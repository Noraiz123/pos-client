(this.webpackJsonpkonfor=this.webpackJsonpkonfor||[]).push([[0],{155:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(63),a=n.n(c);window.React=s.a,window._=a.a;var i=n(22),l=n.n(i),o=(n(77),n(8)),d=n(5),u=n.n(d),b=n(24),j=n(15),m=n(2),x=n(12),O=n(3),p=n(159),f=n(160),h=n(161),v=n(162),g=n(163),y=n(164),N=n(157),w=n(165),S=n(166),C=n(167),_=n(168),E=n(7),k="GET_PRODUCTS",P="GET_PRODUCT",T="UPDATE_PRODUCT_QUANTITY",I="GET_ALL_PRODUCT",D="CREATE_PRODUCTS",A="EDIT_PRODUCTS",R="CREATE_SIZE",U="CREATE_CATEGORY",Q="UPDATE_CATEGORY",L="DELETE_CATEGORY",F="CREATE_STORE",q="UPDATE_STORE",M="DELETE_STORE",G="CREATE_CUSTOMER",z="GET_CATEGORIES",J="GET_STORES",V="GET_CUSTOMERS",H="GET_SIZE",B="CREATE_COLOR",X="GET_COLOR",Y="LOGIN_REQUEST",K="LOGOUT_REQUEST",W="GET_ORDERS",$="GET_ORDER",Z="CONFIRM_ORDER",ee="UPDATE_ORDER",te="CREATE_ORDER",ne="DELETE_ORDER_ITEM",re="DELETE__ALL_ORDER_ITEM",se="FILTER_PRODUCTS",ce="FILTER_STATS",ae="DELETE_CUSTOMER",ie="UPDATE_CUSTOMER",le="CURRENT_CUSTOMER",oe="CREATE_USER",de="CREATE_VENDOR",ue="CREATE_EXPENSE",be="GET_USERS",je="GET_VENDORS",me="GET_EXPENSES",xe="DELETE_USER",Oe="UPDATE_USER",pe="DELETE_VENDOR",fe="UPDATE_VENDOR",he="DELETE_EXPENSE",ve="UPDATE_EXPENSE",ge="ON_HOLD_ORDERS",ye="EDIT_ON_HOLD",Ne="GET_PRODUCTS_STATS",we="UPDATE_ORDER_STATUS",Se="START_LOADING",Ce="STOP_LOADING",_e="DELETE_CURRENT_ORDER_ITEM",Ee="SET_ONLINE_STATUS",ke="SET_OFFLINE_STATUS",Pe=n(65),Te=n.n(Pe),Ie="https://konfor-backend.herokuapp.com/",De=n(25),Ae=n(67),Re={auth:{isSignedIn:!1},isLoading:!1,online:{onlineStatus:navigator.onLine},products:{product:{},products:[],allProducts:[],productSizes:[],productColors:[],productsStats:{stats:[],totalPages:null,currentPage:1,statsFilter:{page:1,perPage:10,keyword:"",store:""}},productsFilter:{page:1,per_page:10,category_id:null,keyword:""},currentPage:1,totalPages:null},expenses:{expenses:[],currentPage:1,totalPages:null,noOfExpenses:0,totalExpense:0,expenseStats:[]},orders:{orderStatus:"CREATE_ORDER",allOrders:[],order:{},onHold:[],currentOrder:[],currentPage:1,totalPages:null,totalTransactions:0,totalSales:0,totalProfit:0,chartStats:[]},categories:[],stores:[],vendors:[],users:[],customers:{allCustomers:[],currentCustomer:{}}},Ue=n(9),Qe=function(e,t){var n,r=Object(Ue.a)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;s._id===e._id&&(s=Object(m.a)(Object(m.a)({},s),{},{quantity:s.quantity-e.orderQuantity}))}}catch(c){r.e(c)}finally{r.f()}return t},Le=Object(De.b)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.isLoading,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return!0;case Ce:return!1;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(m.a)(Object(m.a)({},e),{},{isSignedIn:!0});case K:return Object(m.a)(Object(m.a)({},e),{},{isSignedIn:!1});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.products,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=t.payload,r=n.currentPage,s=n.products,c=n.totalPages;return Object(m.a)(Object(m.a)({},e),{},{products:s,currentPage:r,totalPages:c});case I:return Object(m.a)(Object(m.a)({},e),{},{allProducts:t.payload});case P:return Object(m.a)(Object(m.a)({},e),{},{product:t.payload});case Ne:var a=t.payload,i=a.stats,l=a.currentPage,o=a.totalPages;return Object(m.a)(Object(m.a)({},e),{},{productsStats:Object(m.a)(Object(m.a)({},e.productsStats),{},{stats:i,currentPage:l,totalPages:o})});case se:return Object(m.a)(Object(m.a)({},e),{},{productsFilter:t.payload});case ce:return Object(m.a)(Object(m.a)({},e),{},{productsStats:Object(m.a)(Object(m.a)({},e.productsStats),{},{statsFilter:t.payload})});case D:return Object(m.a)(Object(m.a)({},e),{},{products:e.products.concat(t.payload)});case A:return Object(m.a)(Object(m.a)({},e),{},{products:e.products.map((function(e){return e._id===t.payload._id?t.payload:e}))});case T:var d,u=Object(Ue.a)(t.payload);try{for(u.s();!(d=u.n()).done;){var b=d.value;Qe(b,e.allProducts)}}catch(j){u.e(j)}finally{u.f()}return Object(m.a)(Object(m.a)({},e),{},{allProducts:e.allProducts});case R:return Object(m.a)(Object(m.a)({},e),{},{productSizes:e.productSizes.concat(t.payload)});case H:return Object(m.a)(Object(m.a)({},e),{},{productSizes:t.payload.product_sizes});case B:return Object(m.a)(Object(m.a)({},e),{},{productColors:e.productColors.concat(t.payload)});case X:return Object(m.a)(Object(m.a)({},e),{},{productColors:t.payload.product_colors});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.orders,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var n=t.payload,r=n.orders,s=n.currentPage,c=n.totalPages,a=n.totalTransactions,i=n.totalSales,l=n.totalProfit,o=n.chartStats;return Object(m.a)(Object(m.a)({},e),{},{allOrders:r,currentPage:s,totalPages:c,totalTransactions:a,totalSales:i,totalProfit:l,chartStats:o});case Z:return Object(m.a)(Object(m.a)({},e),{},{allOrders:e.allOrders.concat(t.payload)});case $:return Object(m.a)(Object(m.a)({},e),{},{order:t.payload});case ge:return Object(m.a)(Object(m.a)({},e),{},{onHold:t.payload});case ye:return Object(m.a)(Object(m.a)({},e),{},{currentOrder:t.payload});case te:var d,u,b;if("CREATE_ORDER"===t.status)(d=e.currentOrder.find((function(e){return e._id===t.payload._id})))?b=d&&e.currentOrder.map((function(e){return e._id===t.payload._id?Object(m.a)(Object(m.a)({},e),{},{orderQuantity:t.payload.orderQuantity}):e})):u=!d&&e.currentOrder.concat(t.payload);else if((d=e.currentOrder.filter((function(e){return e._id===t.payload._id}))).length>0)if(1===d.length){var j=Number(d[0].currentPrice)*Number(d[0].currentDiscount)/100,x=Number(t.payload.price)*Number(t.payload.discount)/100;d[0].currentPrice&&d[0].currentDiscount&&j!==x?u=e.currentOrder.concat(Object(m.a)(Object(m.a)({},t.payload),{},{uuid:Math.random(),orderQuantity:t.payload.orderQuantity>d[0].previousQuantity?t.payload.orderQuantity-d[0].previousQuantity:d[0].previousQuantity-t.payload.orderQuantity})):b=e.currentOrder.map((function(e){return e._id===t.payload._id?Object(m.a)(Object(m.a)({},e),{},{orderQuantity:t.payload.orderQuantity}):e}))}else b=e.currentOrder.map((function(e){return e.uuid===d[d.length-1].uuid?Object(m.a)(Object(m.a)({},e),{},{orderQuantity:t.payload.orderQuantity,delete:void 0}):e}));else u=e.currentOrder.concat(Object(m.a)(Object(m.a)({},t.payload),{},{uuid:Math.random()}));return Object(m.a)(Object(m.a)({},e),{},{currentOrder:b||u});case ne:return Object(m.a)(Object(m.a)({},e),{},{currentOrder:e.currentOrder.map((function(e){return e._id===t.payload._id&&e.uuid===t.payload.uuid?Object(m.a)(Object(m.a)({},e),{},{delete:!0}):e}))});case _e:return Object(m.a)(Object(m.a)({},e),{},{currentOrder:e.currentOrder.filter((function(e){return e.uuid!==t.payload.uuid||e._id!==t.payload._id}))});case re:return Object(m.a)(Object(m.a)({},e),{},{currentOrder:[]});case ee:return Object(m.a)(Object(m.a)({},e),{},{allOrders:e.allOrders.map((function(e){return e._id===t.payload._id?t.payload:e}))});case we:return Object(m.a)(Object(m.a)({},e),{},{orderStatus:t.payload});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.categories,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return t.payload;case U:return e.concat(t.payload);case Q:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case L:return t.payload;default:return e}},stores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.stores,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return t.payload;case F:return e.concat(t.payload);case q:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case M:return t.payload;default:return e}},customers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.customers,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(m.a)(Object(m.a)({},e),{},{allCustomers:t.payload});case le:return Object(m.a)(Object(m.a)({},e),{},{currentCustomer:t.payload});case G:return Object(m.a)(Object(m.a)({},e),{},{allCustomers:e.allCustomers.concat(t.payload),currentCustomer:t.payload});case ae:return Object(m.a)(Object(m.a)({},e),{},{allCustomers:t.payload});case ie:return Object(m.a)(Object(m.a)({},e),{},{allCustomers:e.allCustomers.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return t.payload;case oe:return e.concat(t.payload);case xe:return t.payload;case Oe:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}},vendors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.vendors,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return t.payload;case de:return e.concat(t.payload);case pe:return t.payload;case fe:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}},expenses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.expenses,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:var n=t.payload,r=n.expenses,s=n.currentPage,c=n.totalPages,a=n.noOfExpenses,i=n.totalExpense,l=n.expenseStats;return Object(m.a)(Object(m.a)({},e),{},{expenses:r,currentPage:s,totalPages:c,noOfExpenses:a,totalExpense:i,expenseStats:l});case ue:return Object(m.a)(Object(m.a)({},e),{},{expenses:e.expenses.concat(t.payload)});case ve:return Object(m.a)(Object(m.a)({},e),{},{expenses:e.expenses.map((function(e){return e._id===t.payload._id?t.payload:e}))});case he:var o=t.payload,d=o.expenses,u=o.currentPage,b=o.totalPages,j=o.noOfExpenses,x=o.totalExpense,O=o.expenseStats;return Object(m.a)(Object(m.a)({},e),{},{expenses:d,currentPage:u,totalPages:b,noOfExpenses:j,totalExpense:x,expenseStats:O});default:return e}},onlineStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.online,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(m.a)(Object(m.a)({},e),{},{onlineStatus:!0});case ke:return Object(m.a)(Object(m.a)({},e),{},{onlineStatus:!1});default:return e}}}),Fe=n(43),qe=n(66),Me=n.n(qe),Ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.c,ze={key:"app",storage:Me.a,whitelist:["products","customers","categories"]},Je=Object(Fe.a)(ze,Le),Ve=Object(De.d)(Je,Ge(Object(De.a)(Ae.a))),He=Object(Fe.b)(Ve),Be=n(14);function Xe(e){return $e.post("/user/sign_in",e)}var Ye=function(){return{type:Y}},Ke=function(){return function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/login",t({type:K}),localStorage.removeItem("token"),localStorage.removeItem("user");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},We=Te.a.create({baseURL:Ie});We.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Accept="application/json",e.headers.authorization=t,e.headers["Content-Type"]="application/json",Ve.dispatch({type:Se}),e})),We.interceptors.response.use((function(e){return Ve.dispatch(Ye()),Ve.dispatch({type:Ce}),e}),(function(e){var t,n,r,s;return null!==(t=e.request)&&void 0!==t&&null!==(n=t.responseURL)&&void 0!==n&&n.includes("sign_in")||!e.toString().includes(401)||Ve.dispatch(Ke()),Ve.dispatch({type:Ce}),Be.b.error(null===(r=e.response)||void 0===r?void 0:r.data.message),Promise.reject(null===(s=e.response)||void 0===s?void 0:s.data)}));var $e=We;function Ze(e,t){return $e.get("/order?page=".concat(t.page,"&&per_page=").concat(t.perPage),{params:e})}function et(e){return $e.post("/order",e)}function tt(e,t){return $e.patch("/order/".concat(t),e)}function nt(e){return $e.delete("/order/".concat(e))}var rt=function(e,t){return{type:te,payload:t,status:e}},st=function(e){return{type:$,payload:e}},ct=function(){return{type:re}},at=function(e){return{type:we,payload:e}},it=function(e){return{type:ye,payload:e}},lt=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(e);case 2:return 201===(r=t.sent).status&&(n((s=r.data,{type:Z,payload:s})),Be.b.success("Order Created Successfully")),t.abrupt("return",r);case 5:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},ot=function(e){return function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.get("/order/onHold");case 2:return 200===(n=e.sent).status&&t((r=n.data,{type:ge,payload:r})),e.abrupt("return",n);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=n(4),ut=n(13),bt=(n(52),n(0)),jt=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.children;return Object(bt.jsx)(ut.b,{appear:!0,show:t,children:Object(bt.jsx)(ut.a,{as:"div",className:"fixed inset-0 z-10  ".concat(t&&"w-screen h-screen bg-black bg-opacity-40"," "),onClose:function(){return n(!1)},children:Object(bt.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(bt.jsx)(ut.b.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(bt.jsx)(ut.a.Overlay,{className:"fixed inset-0"})}),Object(bt.jsx)("span",{className:"xl:inline-block inline h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(bt.jsx)(ut.b.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s})]})})})};function mt(e){return $e.post("/customers",e)}function xt(){return $e.get("/customers")}function Ot(e){return $e.delete("/customers/".concat(e))}function pt(e,t){return $e.patch("/customers/".concat(e),t)}var ft=function(e){return{type:le,payload:e}},ht=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.customerData,c={name:"",email:"",phoneNo:""},a=Object(E.b)(),i=Object(r.useState)(c),l=Object(O.a)(i,2),d=l[0],b=l[1],j=Object(E.c)((function(e){return e.onlineStatus.onlineStatus})),x=function(e){var t=e.target,n=t.name,r=t.value;b((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){s&&b(s)}),[s]);return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-96 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl p-6",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:[s?"Update":"Add"," Customer"]}),Object(bt.jsxs)("div",{className:"mt-10",children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Customer Name"}),Object(bt.jsx)("input",{className:"input-field",type:"text",name:"name",onChange:x,value:d.name})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Customer Email"}),Object(bt.jsx)("input",{className:"input-field",name:"email",type:"email",onChange:x,value:d.email})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Customer Phone number"}),Object(bt.jsx)("input",{className:"input-field",name:"phone_no",type:"text",onChange:x,value:d.phoneNo})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",onClick:function(){if(j)if(s){var e=d._id,t=d.name,r=d.email,i=d.phoneNo;a((l=e,m={name:t,email:r,phoneNo:i},function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(l,m);case 2:200===(n=e.sent).status&&(t((r=n.data,{type:ie,payload:r})),Be.b.success("Customer Updated Successfully"));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){n(!1),b(c)}))}else a(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt(e);case 2:return 201===(r=t.sent).status&&(n((s=r.data,{type:G,payload:s})),Be.b.success("Customer Created Successfully")),t.abrupt("return",r);case 5:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(d)).then((function(){n(!1),b(c)}));else a(ft(d)),n(!1),b(c);var l,m},className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return n(!1)},children:"Close"})]})]})})})};function vt(e){return $e.post("/user/add",e)}function gt(){return $e.get("/user")}function yt(e){return $e.delete("/user/delete/".concat(e))}function Nt(e,t){return $e.put("/user/update/".concat(e),t)}var wt=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.userData,c={name:"",email:"",store:null,role:"",phone_no:""},a=Object(E.b)(),i=Object(r.useState)(c),l=Object(O.a)(i,2),d=l[0],b=l[1],j=Object(E.c)((function(e){return e.stores})),x=JSON.parse(localStorage.getItem("user")),p=function(e){var t=e.target,n=t.name,r=t.value;b((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){s&&b(s)}),[s]);return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-96 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl p-6",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:[s?"Update":"Add"," User"]}),Object(bt.jsxs)("div",{className:"mt-10",children:["superAdmin"===(null===x||void 0===x?void 0:x.role)&&Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Stores"}),Object(bt.jsxs)("select",{className:"input-select",name:"store",onChange:p,value:d.store,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select user store"}),j&&j.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Name"}),Object(bt.jsx)("input",{className:"input-field",type:"text",name:"name",onChange:p,value:d.name})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Email"}),Object(bt.jsx)("input",{className:"input-field",name:"email",type:"email",onChange:p,value:d.email})]}),!s&&Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Password"}),Object(bt.jsx)("input",{className:"input-field",name:"password",type:"password",onChange:p,value:d.password})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Role"}),Object(bt.jsxs)("select",{className:"input-select",name:"role",onChange:p,value:d.role,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select user role"}),Object(bt.jsx)("option",{value:"admin",children:"Admin"}),Object(bt.jsx)("option",{value:"cashier",children:"Cashier"}),Object(bt.jsx)("option",{value:"salesman",children:"Sales Man"})]})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",onClick:function(){if(s){var e=d.id,t=d.name,r=d.email,i=d.role,l=d.password,j=d.store;a(function(e,t){return function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Nt(e,t);case 2:200===(s=n.sent).status&&(r((c=s.data,{type:Oe,payload:c})),Be.b.success("User Updated Successfully"));case 4:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,{name:t,email:r,password:l,role:i,store:j})).then((function(){n(!1),b(c)}))}else a((m=d,function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(m);case 2:return 200===(n=e.sent).status&&(t((r=n.data,{type:oe,payload:r})),Be.b.success("User Created Successfully")),e.abrupt("return",n);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){n(!1),b(c)}));var m},className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return n(!1)},children:"Close"})]})]})})})},St=n(39),Ct=function(e){var t,n,s=e.isOpen,c=e.setIsOpen,a=e.invoiceData,i=Object(r.useRef)(),l=Object(St.useReactToPrint)({content:function(){return i.current},copyStyles:!0});return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:s,setIsOpen:c,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Invoice"}),Object(bt.jsx)("div",{className:"h-50v overflow-y-auto main",children:Object(bt.jsxs)("div",{className:"ticket bg-white border-2 border-dotted text-sm",ref:i,children:[Object(bt.jsx)("h1",{className:"text-center font-extrabold text-3xl mt-2",children:"Konfor"}),Object(bt.jsxs)("div",{className:"flex px-3 my-2",children:[Object(bt.jsxs)("div",{children:[Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:" Order Date : "}),(new Date).toLocaleDateString()]})}),Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:" Invoice# : "}),(null===a||void 0===a?void 0:a.invoiceNo)||"N/A"]})})]}),Object(bt.jsxs)("div",{children:[Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:"Customer Name : "}),null!==a&&void 0!==a&&null!==(t=a.customer)&&void 0!==t&&t.name?a.customer.name:"N/A"]})}),Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:"Customer Phone : "}),null!==a&&void 0!==a&&null!==(n=a.customer)&&void 0!==n&&n.phone_no?a.customer.phone_no:"N/A"]})})]})]}),Object(bt.jsxs)("table",{className:"mx-auto text-sm w-full invoice-table",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{className:"",children:[Object(bt.jsx)("th",{className:"py-1 text-left",children:"Name"}),Object(bt.jsx)("th",{className:"py-1 text-left",children:"Qty"}),Object(bt.jsx)("th",{className:"py-1 text-left",children:"$$"})]})}),Object(bt.jsxs)("tbody",{children:[a.orderItems&&a.orderItems.map((function(e,t){return Object(bt.jsxs)("tr",{className:"text-gray-600 invoice-data",children:[Object(bt.jsx)("td",{className:"py-1 text-left",children:e.name}),Object(bt.jsx)("td",{className:"py-1 text-left",children:e.orderQuantity}),Object(bt.jsx)("td",{className:"py-1 text-left",children:Math.round((e.price-e.price*e.discount/100)*e.orderQuantity)})]},e.id)})),Object(bt.jsxs)("tr",{className:"mx-auto invoice-total",children:[Object(bt.jsx)("td",{}),Object(bt.jsx)("td",{children:"TOTAL"}),Object(bt.jsx)("td",{children:Math.round(a.total)})]})]})]}),Object(bt.jsx)("p",{className:"text-center mb-20",children:"Thanks for your purchase!"})]})}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",onClick:l,className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Print"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return c(!1)},children:"Close"})]})]})})})},_t=n(158),Et=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{vendors:e.vendors,orders:e.orders.onHold}})).orders,a=Object(j.f)(),i=function(e){s(st(e)),s(it(function(e){return e.map((function(e){return Object(m.a)(Object(m.a)({},e.product),{},{uuid:Math.random(),currentDiscount:e.currentDiscount,currentPrice:e.currentPrice,orderQuantity:e.quantity,previousQuantity:e.quantity,previousPaid:e.paidPrice})}))}(e.orderItems))),s(ft(null===e||void 0===e?void 0:e.customer)),s(at("UPDATE_ORDER")),a("/",{state:{salesman:null===e||void 0===e?void 0:e.salesman._id}})};Object(r.useEffect)((function(){s(ot())}),[s]);var l=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt(e);case 2:return 204===(r=t.sent).status&&Be.b.success("Order Deleted Successfully"),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(){s(ot())}))};return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"OnHold Orders"}),Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Item"}),Object(bt.jsx)("th",{children:"Customer Name"}),Object(bt.jsx)("th",{children:"Total"}),Object(bt.jsx)("th",{children:"Cashier"}),Object(bt.jsx)("th",{children:"Salesman"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:c&&c.map((function(e,t){var n,r,s,c;return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{children:t+1}),Object(bt.jsx)("td",{children:(null===e||void 0===e||null===(n=e.customer)||void 0===n?void 0:n.name)||"N/A"}),Object(bt.jsx)("td",{children:e.total}),Object(bt.jsx)("td",{children:null!==(r=e.cashier)&&void 0!==r&&r.name?null===(s=e.cashier)||void 0===s?void 0:s.name:"N/A"}),Object(bt.jsx)("td",{children:null!==(c=e.salesman)&&void 0!==c&&c.name?e.salesman.name:"N/A"}),Object(bt.jsxs)("td",{className:"flex justify-center items-center",children:[Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return l(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return i(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})]},e._id)}))})]})}),Object(bt.jsx)("div",{className:"mt-4 flex items-end h-auto",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})})})},kt=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.totalPrice,c=e.confirmOrder,a=Object(r.useState)(""),i=Object(O.a)(a,2),l=i[0],o=i[1];return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Payment"}),Object(bt.jsxs)("div",{className:"mt-10 h-30v overflow-y-auto",children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Total"}),Object(bt.jsx)("input",{className:"input-field",type:"text",disabled:!0,value:s})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Payment"}),Object(bt.jsx)("input",{className:"input-field",type:"text",onChange:function(e){return o(e.target.value)},value:l})]}),Number(l)>s&&Object(bt.jsxs)("div",{className:"w-full p-2 text-center text-2xl text-green-900 bg-green-100 rounded mt-10",children:["Change Rs ",Math.round(s-Number(l))]})]}),Object(bt.jsxs)("div",{className:"mt-4 space-x-2 flex items-end h-auto",children:[Number(l)>=s&&Object(bt.jsx)("button",{type:"button",onClick:function(){c(Math.round(s-Number(l))),o("")},className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Confirm Order"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})]})]})})})},Pt=n(42);function Tt(e){return $e.get("/products?page=".concat(e.page,"&&category_id=").concat(e.category_id,"&&search_keyword=").concat(e.keyword,"&&per_page=").concat(e.per_page))}function It(e){return $e.get("/productsStats?search_keyword=".concat(e.keyword,"&&page=").concat(e.page,"&&per_page=").concat(e.perPage,"&&store=").concat(e.store))}function Dt(e){return $e.post("/products",e)}function At(e){return $e.delete("/products/".concat(e))}function Rt(e,t){return $e.patch("/products/".concat(e),t)}var Ut=function(e){return{type:se,payload:e}},Qt=function(e){return{type:ce,payload:e}},Lt=function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt(e);case 2:200===(r=t.sent).status&&n((s=null===r||void 0===r?void 0:r.data,{type:k,payload:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},Ft=function(e){return function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.get("/products/all");case 2:return 200===(n=e.sent).status&&t((r=n.data,{type:I,payload:r})),e.abrupt("return",n);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},qt=s.a.forwardRef((function(e,t){var n,r,s=e.invoiceData;return Object(bt.jsx)("div",{className:"h-50v overflow-y-auto main",children:Object(bt.jsxs)("div",{className:"ticket bg-white border-2 border-dotted text-sm",ref:t,children:[Object(bt.jsx)("h1",{className:"text-center font-extrabold text-3xl mt-2",children:"Konfor"}),Object(bt.jsxs)("div",{className:"flex px-3 my-2",children:[Object(bt.jsxs)("div",{children:[Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:" Order Date : "}),(new Date).toLocaleDateString()]})}),Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:" Invoice# : "}),(null===s||void 0===s?void 0:s.invoiceNo)||"N/A"]})})]}),Object(bt.jsxs)("div",{children:[Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:"Customer Name : "}),null!==s&&void 0!==s&&null!==(n=s.customer)&&void 0!==n&&n.name?s.customer.name:"N/A"]})}),Object(bt.jsx)("div",{children:Object(bt.jsxs)("address",{className:"text-sm",children:[Object(bt.jsx)("span",{className:"font-bold",children:"Customer Phone : "}),null!==s&&void 0!==s&&null!==(r=s.customer)&&void 0!==r&&r.phone_no?s.customer.phone_no:"N/A"]})})]})]}),Object(bt.jsxs)("table",{className:"mx-auto text-sm w-full invoice-table",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{className:"",children:[Object(bt.jsx)("th",{className:"py-1 text-left",children:"Name"}),Object(bt.jsx)("th",{className:"py-1 text-left",children:"Qty"}),Object(bt.jsx)("th",{className:"py-1 text-left",children:"$$"})]})}),Object(bt.jsxs)("tbody",{children:[s.orderItems&&s.orderItems.map((function(e,t){return Object(bt.jsxs)("tr",{className:"text-gray-600 invoice-data",children:[Object(bt.jsx)("td",{className:"py-1 text-left",children:e.name}),Object(bt.jsx)("td",{className:"py-1 text-left",children:e.orderQuantity}),Object(bt.jsx)("td",{className:"py-1 text-left",children:Math.round((e.price-e.price*e.discount/100)*e.orderQuantity)})]},e.id)})),Object(bt.jsxs)("tr",{className:"mx-auto invoice-total",children:[Object(bt.jsx)("td",{}),Object(bt.jsx)("td",{children:"TOTAL"}),Object(bt.jsx)("td",{children:Math.round(s.total)})]})]})]}),Object(bt.jsx)("p",{className:"text-center mb-20",children:"Thanks for your purchase!"})]})})})),Mt=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return{currentOrder:e.orders.currentOrder,order:e.orders.order,orderStatus:e.orders.orderStatus,currentCustomer:e.customers.currentCustomer,customers:e.customers.allCustomers,users:e.users.filter((function(e){return"salesman"===e.role})),productsFilter:e.products.productsFilter,products:e.products.products,onHold:e.orders.onHold,onlineStatus:e.onlineStatus.onlineStatus}})),n=t.currentOrder,s=t.currentCustomer,c=t.customers,a=t.users,i=t.order,l=t.orderStatus,d=t.productsFilter,b=t.onHold,k=t.products,P=t.onlineStatus,I=Object(r.useState)(""),D=Object(O.a)(I,2),A=D[0],R=D[1],U=Object(r.useState)(!1),Q=Object(O.a)(U,2),L=Q[0],F=Q[1],q=Object(r.useState)(!1),M=Object(O.a)(q,2),G=M[0],z=M[1],J=Object(r.useState)(null),H=Object(O.a)(J,2),B=H[0],X=H[1],Y=Object(r.useState)(null),K=Object(O.a)(Y,2),W=K[0],$=K[1],Z=Object(j.e)().state,te=Object(r.useRef)(),re=Object(r.useRef)(),se=Object(j.f)();Object(r.useEffect)((function(){e(function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt();case 2:return 200===(n=e.sent).status&&t((r=n.data,{type:V,payload:r})),e.abrupt("return",n);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(r.useEffect)((function(){null!==Z&&void 0!==Z&&Z.salesman&&R(Z.salesman)}),[Z]);var ce=n&&n.filter((function(e){return!e.delete})).reduce((function(e,t){var n=Number(t.currentPrice)*Number(t.currentDiscount)/100,r=Number(t.price)*Number(t.discount)/100;return t.currentPrice&&t.currentDiscount&&n!==r?e+(Number(t.currentPrice)-Number(t.currentPrice)*Number(t.currentDiscount)/100)*Number(t.orderQuantity):e+(Number(t.price)-Number(t.price)*Number(t.discount)/100)*Number(t.orderQuantity)}),0),ae=n&&n.filter((function(e){return!e.delete})).reduce((function(e,t){return e+Number(t.retailPrice)*Number(t.orderQuantity)}),0),ie=function(){"UPDATE_ORDER"===l&&e(at("CREATE_ORDER")),e(ct()),P&&e(Lt(d)),e(ft({})),z(!1),R(""),Z&&null!==Z&&void 0!==Z&&Z.salesman&&se("/")},le=Object(r.useRef)(),oe=Object(St.useReactToPrint)({content:function(){return le.current},copyStyles:!0}),de=function(t,r){var c=Math.random();if(X(c),"UPDATE_ORDER"===l)e(function(e,t){return function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tt(e,t);case 2:return 200===(s=n.sent).status&&(r((c=s.data,{type:ee,payload:c})),Be.b.success("Order Updated Successfully")),n.abrupt("return",s);case 5:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()}({status:t,salesman:A||void 0,customer:(null===s||void 0===s?void 0:s._id)||void 0,change:r||void 0,orderItems:n.map((function(e){var t=Number(e.currentPrice)*Number(e.currentDiscount)/100,n=Number(e.price)*Number(e.discount)/100;return{id:null!==e&&void 0!==e&&e.orderItemId?e.orderItemId:void 0,product:e._id,quantity:e.orderQuantity,previousQuantity:e.previousQuantity,previousPaid:e.previousPaid,paidPrice:e.currentPrice&&e.currentDiscount&&t!==n?Math.round((Number(e.currentPrice)-Number(e.currentPrice)*Number(e.currentDiscount)/100)*Number(e.orderQuantity)):Math.round((e.price-e.price*e.discount/100)*e.orderQuantity),currentPrice:null!==e&&void 0!==e&&e.currentPrice?e.currentPrice:e.price,currentDiscount:e.currentDiscount?e.currentDiscount:e.discount,delete:!(null===e||void 0===e||!e.delete)||void 0}})),total:ce,totalRetailPrice:ae},i._id)).then((function(e){200===e.status&&(X(e.data.invoiceNo),oe(),ie())}));else if(P)e(lt({status:t,salesman:A||void 0,customer:(null===s||void 0===s?void 0:s._id)||void 0,change:r||void 0,orderItems:n.map((function(e){return{id:null!==e&&void 0!==e&&e.orderItemId?e.orderItemId:void 0,product:e._id,quantity:e.orderQuantity,currentDiscount:e.discount,paidPrice:Math.round((e.price-e.price*e.discount/100)*e.orderQuantity),currentPrice:e.price}})),total:ce,totalRetailPrice:ae})).then((function(e){201===e.status&&(X(e.data.invoiceNo),oe(),ie())}));else{e({type:T,payload:n});var a=localStorage.getItem("orders"),d=a?[].concat(Object(x.a)(JSON.parse(a)),[{status:t,salesman:A||void 0,customer:(null===s||void 0===s?void 0:s._id)||void 0,customerAttributes:P?void 0:s,change:r||void 0,createdAt:new Date,orderItems:n.map((function(e){return{id:null!==e&&void 0!==e&&e.orderItemId?e.orderItemId:void 0,product:e._id,quantity:e.orderQuantity,currentDiscount:e.discount,paidPrice:Math.round((e.price-e.price*e.discount/100)*e.orderQuantity),currentPrice:e.price}})),total:ce,totalRetailPrice:ae}]):[{status:t,salesman:A||void 0,customer:(null===s||void 0===s?void 0:s._id)||void 0,customerAttributes:P?void 0:s,createdAt:new Date,change:r||void 0,orderItems:n.map((function(e){return{id:null!==e&&void 0!==e&&e.orderItemId?e.orderItemId:void 0,product:e._id,quantity:e.orderQuantity,currentDiscount:e.discount,paidPrice:Math.round((e.price-e.price*e.discount/100)*e.orderQuantity),currentPrice:e.price}})),total:ce,totalRetailPrice:ae}];localStorage.setItem("orders",JSON.stringify(d)),ie()}},ue=Object(r.useState)(!1),be=Object(O.a)(ue,2),je=be[0],me=be[1],xe=Object(r.useState)(!1),Oe=Object(O.a)(xe,2),pe=Oe[0],fe=Oe[1],he=Object(r.useState)(!1),ve=Object(O.a)(he,2),ge=ve[0],ye=ve[1],Ne=JSON.parse(localStorage.getItem("user")),we=c.map((function(e){return{label:e.name,value:e._id}})),Se=a.map((function(e){return{label:e.name,value:e._id}})),Ce=function(t){e(st(t)),e(it(function(e){return e.map((function(e){return Object(m.a)(Object(m.a)({},e.product),{},{uuid:Math.random(),currentDiscount:e.currentDiscount,currentPrice:e.currentPrice,orderQuantity:e.quantity,previousQuantity:e.quantity,previousPaid:e.paidPrice})}))}(t.orderItems))),e(ft(null===t||void 0===t?void 0:t.customer)),e(at("UPDATE_ORDER")),se("/",{state:{salesman:null===t||void 0===t?void 0:t.salesman._id}})},Ee=function(e){var t=e.key;e.ctrlKey&&"ArrowRight"===t?re.current.click():e.ctrlKey&&"ArrowLeft"===t&&te.current.click()};Object(r.useEffect)((function(){return window.addEventListener("keydown",(function(e){return Ee(e)})),function(){window.removeEventListener("keydown",(function(e){return Ee(e)}))}}),[]);return Object(bt.jsxs)("div",{className:"bg-white rounded-sm mt-6",children:[Object(bt.jsxs)("div",{className:"p-10 flex flex-col",children:[Object(bt.jsxs)("div",{className:"flex mb-2 space-x-2",children:[Object(bt.jsx)("button",{className:"flex align-middle btn-sm-blue",disabled:!(null!==b&&void 0!==b&&b.length),onClick:function(){if(0!==b.length&&0!==W&&null!==W){var e=(W-1)%b.length;$(e),Ce(b[e])}else{var t=b.length-1;$(b.length-1),Ce(b[t])}},ref:te,children:Object(bt.jsx)(p.a,{className:"mr-2 h-6"})}),Object(bt.jsxs)("button",{className:"flex align-middle btn-blue",onClick:function(){return F(!0)},children:[Object(bt.jsx)(f.a,{className:"mr-2 h-6"}),"OnHold Orders"]}),Object(bt.jsx)("button",{className:"flex align-middle btn-sm-blue",disabled:!(null!==b&&void 0!==b&&b.length),onClick:function(){if(0!==b.length&&null!==W){var e=(W+1)%b.length;$(e),Ce(b[e])}else $(0),Ce(b[0])},ref:re,children:Object(bt.jsx)(h.a,{className:"mr-2 h-6"})})]}),Object(bt.jsxs)("div",{className:"flex mb-2",children:[Object(bt.jsx)(Pt.a,{options:we,placeholder:"Select Customer...",value:null!==s&&void 0!==s&&s._id?we.find((function(e){return e.value===s._id})):null,isClearable:!0,onChange:function(t){if(null!==t&&void 0!==t&&t.value){var n=t.value,r=c.find((function(e){return e._id===n}));e(ft(r))}else e(ft({}))}}),Object(bt.jsx)("button",{className:"btn-sm-green mx-4",onClick:function(){return me(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]}),Object(bt.jsxs)("div",{className:"flex mb-4",children:[Object(bt.jsx)(Pt.a,{options:Se,placeholder:"Select Salesman...",isClearable:!0,value:""!==A?Se.find((function(e){return e.value===A})):null,onChange:function(e){return null!==e&&void 0!==e&&e.value?R(e.value):R("")}}),("superAdmin"===(null===Ne||void 0===Ne?void 0:Ne.role)||"admin"===(null===Ne||void 0===Ne?void 0:Ne.role))&&Object(bt.jsx)("button",{className:"btn-sm-green mx-4",onClick:function(){return fe(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]}),Object(bt.jsxs)("div",{className:"flex align-middle",children:[Object(bt.jsx)("input",{type:"search",placeholder:"Scan barcode or type the number then hit enter",className:"input-field w-11/12",onChange:function(t){var r=t.target.value,s=k.find((function(e){return e.barcode===r}));if(null!==s&&void 0!==s&&s._id){var c=n.filter((function(e){return e._id===s._id}));c.length>0?e(rt(l,Object(m.a)(Object(m.a)({},s),{},{orderQuantity:Number(c[c.length-1].orderQuantity)<Number(s.quantity)?c[c.length-1].orderQuantity+1:c[c.length-1].orderQuantity}))):e(rt(l,Object(m.a)(Object(m.a)({},s),{},{orderQuantity:1}))),setTimeout((function(){return t.target.value=""}),1e3)}}}),Object(bt.jsx)("button",{className:"btn-sm-gray",children:Object(bt.jsx)(g.a,{className:"h-6"})})]}),Object(bt.jsx)("div",{className:"h-60v overflow-y-auto my-6",children:Object(bt.jsx)("div",{className:"my-4 h-4/6",children:Object(bt.jsxs)("table",{className:"table-fixed  order-table",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{className:"w-1/2",children:"#"}),Object(bt.jsx)("th",{className:"w-1/3",children:"Item"}),Object(bt.jsx)("th",{className:"w-1/2",children:"Qty"}),Object(bt.jsx)("th",{className:"w-1/2",children:"Price"}),Object(bt.jsx)("th",{className:"w-1/2",children:Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return e(ct())},children:Object(bt.jsx)(y.a,{className:"h-4"})})})]})}),Object(bt.jsx)("tbody",{children:n&&n.filter((function(e){return!e.delete})).map((function(t,n){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:n+1}),Object(bt.jsx)("td",{className:"",children:t.name}),Object(bt.jsx)("td",{className:"",children:Object(bt.jsx)("input",{type:"number",className:"input-field w-20",min:"1",max:t.quantity,value:t.orderQuantity,onChange:function(n){return function(t,n){var r=n.target.value;e(rt(l,Object(m.a)(Object(m.a)({},t),{},{orderQuantity:Number(r)})))}(t,n)}})}),Object(bt.jsx)("td",{className:"",children:(null===t||void 0===t?void 0:t.currentPrice)||t.price}),Object(bt.jsx)("td",{className:"",children:Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return"UPDATE_ORDER"===l&&t.currentPrice?e({type:ne,payload:t}):e(function(e){return{type:_e,payload:e}}(t))},children:Object(bt.jsx)(N.a,{className:"h-4"})})})]},t.id)}))})]})})}),Object(bt.jsx)("div",{className:"w-full bg-green-100 p-3 text-center rounded-sm",children:Object(bt.jsxs)("h1",{className:"text-green-900 font-extrabold",children:["Grand Total : Rs ",Math.round(ce)]})}),Object(bt.jsxs)("div",{className:"flex justify-between my-4",children:[Object(bt.jsx)("button",{className:"btn-blue",onClick:function(){return ye(!0)},disabled:0===n.length,children:Object(bt.jsx)(w.a,{className:"h-6"})}),Object(bt.jsxs)("button",{className:"btn-red flex",onClick:ie,children:[Object(bt.jsx)(S.a,{className:"h-6 mr-2"}),"Cancel"]}),Object(bt.jsxs)("button",{className:"btn-parrot flex",onClick:function(){de("onHold")},children:[Object(bt.jsx)(C.a,{className:"h-6 mr-2"}),"Hold"]}),Object(bt.jsxs)("button",{className:"btn-green flex",disabled:0===n.length,onClick:function(){return z(!0)},children:[Object(bt.jsx)(_.a,{className:"h-6 mr-2"}),"Pay"]})]})]}),Object(bt.jsx)("div",{className:"hidden",children:Object(bt.jsx)(qt,{ref:le,invoiceData:{orderItems:n.filter((function(e){return!e.delete})),customer:s,total:ce,invoiceNo:B}})}),Object(bt.jsx)(ht,{isOpen:je,setIsOpen:me}),Object(bt.jsx)(wt,{isOpen:pe,setIsOpen:fe}),Object(bt.jsx)(Et,{isOpen:L,setIsOpen:F}),Object(bt.jsx)(Ct,{isOpen:ge,setIsOpen:ye,invoiceData:{orderItems:n.filter((function(e){return!e.delete})),customer:s,total:ce,invoiceNo:B}}),Object(bt.jsx)(kt,{isOpen:G,setIsOpen:z,confirmOrder:function(e){de("paid",e)},totalPrice:ce})]})},Gt=n(169),zt=n(170),Jt=n(171),Vt=n(172),Ht=n(173),Bt=n(174),Xt=n(175),Yt=1e3;function Kt(e){return $e.post("/categories",e)}function Wt(){return $e.get("/categories")}function $t(e,t){return $e.patch("/categories/".concat(e),t)}function Zt(e){return $e.delete("/categories/".concat(e))}var en=function(){return function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt();case 2:200===(n=e.sent).status&&t((r=null===n||void 0===n?void 0:n.data,{type:z,payload:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},tn=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.productData,c={imgUrl:null,category_id:null,barcode:"",store:"",vendor_id:null,discount:null,name:"",size:"",color:"",price:"",retailPrice:""},a=Object(r.useState)(c),i=Object(O.a)(a,2),l=i[0],d=i[1],b=JSON.parse(localStorage.getItem("user")),j=Object(r.useRef)(null),x=Object(E.b)(),p=Object(E.c)((function(e){return{categories:e.categories,vendors:e.vendors,stores:e.stores}})),f=p.categories,h=p.vendors,v=p.stores;Object(r.useEffect)((function(){if(s&&s._id){var e=s.imgUrl,t=s.name,n=s.category_id,r=s.vendor_id,a=s.discount,i=s.store,l=s.size,o=s.color,u=s.price,b=s.quantity,j=s.retailPrice,x=s.barcode;d(Object(m.a)(Object(m.a)({},c),{},{imgUrl:e,name:t,category_id:n,vendor_id:r,store:null!==i&&void 0!==i&&i._id?i._id:"",discount:a,size:l,color:o,quantity:b,retailPrice:j,barcode:x,price:u}))}}),[s]);var g=function(e){var t=e.target,n=t.name,r=t.value;["price","quantity","discount"].includes(n)?d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,parseInt(r)))})):d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){x(en())}),[x]);var y=function(e){return"inline-flex justify-center px-4 py-2 text-sm font-medium text-".concat(e,"-900 bg-").concat(e,"-100 border border-transparent rounded-md hover:bg-").concat(e,"-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-").concat(e,"-500 ml-3")};return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-96 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl p-6",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:[s?"Update":"Add"," Product"]}),Object(bt.jsxs)("div",{className:"mt-10 h-70v overflow-y-auto productsAdd",children:["superAdmin"===(null===b||void 0===b?void 0:b.role)&&Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Stores"}),Object(bt.jsxs)("select",{className:"input-select",name:"store",onChange:g,value:l.store,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select user store"}),v&&v.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"w-32 h-32 border-2 rounded-full flex text-center items-center mx-auto cursor-pointer",onClick:function(){return j.current.click()},children:[Object(bt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",ref:j,onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){d((function(e){return Object(m.a)(Object(m.a)({},e),{},{imgUrl:t.result})}))},t.onerror=function(e){console.log("Error: ",e)}}}),l.imgUrl?Object(bt.jsx)("img",{src:l.imgUrl,alt:"product",className:"w-full h-full object-cover rounded-full"}):Object(bt.jsx)("p",{className:"p-2 text-sm text-gray-500",children:"Select Product Image"})]}),Object(bt.jsxs)("div",{children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Category"}),Object(bt.jsxs)("select",{className:"input-select w-full",name:"category_id",onChange:g,value:l.category_id,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select Category"}),f.length>0&&f.map((function(e){return Object(bt.jsx)("option",{children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Vendors"}),Object(bt.jsxs)("select",{className:"input-select w-full",name:"vendor_id",onChange:g,value:l.vendor_id,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select Vendor"}),h&&h.map((function(e){return Object(bt.jsx)("option",{"data-value":e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Product Name"}),Object(bt.jsx)("input",{className:"input-field",type:"text",name:"name",value:l.name,onChange:g})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Barcode"}),Object(bt.jsx)("input",{className:"input-field",type:"text",name:"barcode",value:l.barcode,onChange:g})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Discount"}),Object(bt.jsx)("input",{className:"input-field",name:"discount",type:"number",value:l.discount,onChange:g})]})]}),Object(bt.jsx)("hr",{}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Price"}),Object(bt.jsx)("input",{className:"input-field",name:"price",type:"number",value:l.price,onChange:g})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Retail Price"}),Object(bt.jsx)("input",{className:"input-field",name:"retailPrice",type:"number",value:l.retailPrice,onChange:g})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Quantity"}),Object(bt.jsx)("input",{className:"input-field",name:"quantity",type:"number",value:l.quantity,onChange:g})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Size"}),Object(bt.jsx)("input",{className:"input-field",name:"size",value:l.size,onChange:g})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Color"}),Object(bt.jsx)("input",{className:"input-field",name:"color",value:l.color,onChange:g})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",className:y("blue"),onClick:function(){var e,t;null!==s&&void 0!==s&&s._id?x((e=s._id,t=l,function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rt(e,t);case 2:return 200===(s=n.sent).status&&(r((c=s.data,{type:A,payload:c})),Be.b.success("Product Updated Successfully")),n.abrupt("return",s);case 5:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){n(!1),d(c)})):x(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt(e);case 2:return 201===(r=t.sent).status&&(n((s=r.data,{type:D,payload:s})),Be.b.success("Product Created Successfully")),t.abrupt("return",r);case 5:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)).then((function(e){n(!1),d(c)}))},children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:y("red"),onClick:function(){return n(!1)},children:"Close"})]})]})})})},nn=n(68),rn=n.n(nn),sn=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{product:e.products.allProducts,productsFilter:e.products.productsFilter,categories:e.categories,vendors:e.vendors}})),a=(c.product,c.categories),i=c.productsFilter,l=c.vendors,d=(c.allProducts,JSON.parse(localStorage.getItem("user"))),b=Object(r.useState)(!1),j=Object(O.a)(b,2),m=j[0],x=j[1],p=Object(r.useState)({}),f=Object(O.a)(p,2),h=f[0],v=f[1],g=Object(E.c)((function(e){return{products:e.products.allProducts}})).products;Object(r.useEffect)((function(){s(Lt(i)),s(Ft())}),[s,i]);var y=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(e);case 2:return 204===(r=t.sent).status&&Be.b.success("Product Deleted Successfully"),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(){s(Lt(i))}))},w=function(e){var t=a&&a.find((function(t){return t.id===e}));return t?t.name:"N/A"},S=function(e){var t=l&&l.find((function(t){return t.id===e}));return t?t.name:"N/A"};return Object(bt.jsxs)("div",{children:[Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"xl:inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Products"}),Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Barcode"}),Object(bt.jsx)("th",{children:"Item"}),Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Category"}),Object(bt.jsx)("th",{children:"Vendor"}),("superAdmin"===(null===d||void 0===d?void 0:d.role)||"admin"===(null===d||void 0===d?void 0:d.role))&&Object(bt.jsx)("th",{className:"h-full",children:"Action"})]})}),Object(bt.jsx)("tbody",{children:g&&g.map((function(e,t){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:e.barcode&&Object(bt.jsx)(rn.a,{value:e.barcode})}),Object(bt.jsx)("td",{children:t+1}),Object(bt.jsx)("td",{children:e.name}),Object(bt.jsx)("td",{children:w(e.category_id)}),Object(bt.jsx)("td",{children:S(e.vendor_id)}),("superAdmin"===(null===d||void 0===d?void 0:d.role)||"admin"===(null===d||void 0===d?void 0:d.role))&&Object(bt.jsxs)("td",{children:[Object(bt.jsx)("button",{className:"btn-sm-red h-full",onClick:function(){return y(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3 h-full",onClick:function(){return v(e),n(!1),void setTimeout((function(){x(!0)}),Yt)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})]},e._id)}))})]})}),Object(bt.jsx)("div",{className:"mt-4 flex items-end h-auto",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})}),Object(bt.jsx)(tn,{isOpen:m,setIsOpen:x,productData:h})]})},cn=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.categoryData,c={name:"",description:""},a=Object(r.useState)(c),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(E.b)(),j=function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){s&&d(s)}),[s]);return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:[s?"Update":"Add"," Category"]}),Object(bt.jsxs)("div",{className:"mt-10",children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Name"}),Object(bt.jsx)("input",{className:"input-field",name:"name",onChange:j,value:l.name})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Description"}),Object(bt.jsx)("textarea",{className:"input-field",type:"",name:"description",onChange:j,value:l.description})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){var e,t,r=l.name,a=l.description;if(r.length)if(s){var i=l._id;b((e=i,t={name:r,description:a},function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$t(e,t);case 2:200===(s=n.sent).status&&(r((c=s.data,{type:Q,payload:c})),Be.b.success("Category Updated Successfully"));case 4:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){n(!1),d(c)}))}else b(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt(e);case 2:200===(r=t.sent).status&&(n((s=r.data,{type:U,payload:s})),Be.b.success("Category Created Successfully"));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)).then((function(){n(!1),d(c)}))},children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return n(!1)},children:"Close"})]})]})})})},an=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{customers:e.customers.allCustomers}})).customers,a=Object(r.useState)(!1),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(r.useState)({id:null,name:"",email:"",phoneNo:""}),j=Object(O.a)(b,2),m=j[0],x=j[1],p=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ot(e);case 2:if(200!==t.sent.status){t.next=9;break}return t.next=6,xt();case 6:r=t.sent,n((s=r.data,{type:ae,payload:s})),Be.b.success("Customer Deleted Successfully");case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},f=JSON.parse(localStorage.getItem("user"));return Object(bt.jsxs)("div",{children:[Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Customers"}),Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Email"}),Object(bt.jsx)("th",{children:"Phone No"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:c&&c.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{children:e.name}),Object(bt.jsx)("td",{children:e.email}),Object(bt.jsx)("td",{children:e.phoneNo}),Object(bt.jsx)("td",{children:("superAdmin"===(null===f||void 0===f?void 0:f.role)||"admin"===(null===f||void 0===f?void 0:f.role))&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return p(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return function(e){var t=e._id,r=e.name,s=e.email,c=e.phoneNo;x({_id:t,name:r,email:s,phoneNo:c}),n(!1),setTimeout((function(){d(!0)}),Yt)}(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})})]},e._id)}))})]})}),Object(bt.jsx)("div",{className:"mt-4",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})}),Object(bt.jsx)(ht,{isOpen:l,setIsOpen:d,customerData:m})]})},ln=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{users:e.users}})).users;Object(r.useEffect)((function(){s(function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt();case 2:return 200===(n=e.sent).status&&t((r=n.data,{type:be,payload:r})),e.abrupt("return",n);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())}),[s]);var a=Object(r.useState)(!1),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(r.useState)({id:null,name:"",email:"",password:""}),j=Object(O.a)(b,2),m=j[0],x=j[1],p=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(e);case 2:if(200!==t.sent.status){t.next=9;break}return t.next=6,gt();case 6:r=t.sent,n((s=r.data,{type:xe,payload:s})),Be.b.success("User Deleted Successfully");case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};JSON.parse(localStorage.getItem("user"));return Object(bt.jsxs)("div",{children:[Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Users"}),Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Email"}),Object(bt.jsx)("th",{children:"Role"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:c&&c.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{children:e.name}),Object(bt.jsx)("td",{children:e.email}),Object(bt.jsx)("td",{children:e.role}),Object(bt.jsxs)("td",{children:["admin"!==e.role&&Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return p(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return function(e){var t=e._id,r=e.name,s=e.role,c=e.email,a=e.store;x({id:t,name:r,role:s,email:c,store:a}),n(!1),setTimeout((function(){d(!0)}),Yt)}(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})]},e._id)}))})]})}),Object(bt.jsx)("div",{className:"mt-4",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})}),Object(bt.jsx)(wt,{isOpen:l,setIsOpen:d,userData:m})]})};function on(e){return $e.post("/vendors",e)}function dn(){return $e.get("/vendors")}function un(e){return $e.delete("/vendors/".concat(e))}function bn(e,t){return $e.patch("/vendors/".concat(e),t)}var jn=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.vendorData,c={name:"",description:""},a=Object(E.b)(),i=Object(r.useState)(c),l=Object(O.a)(i,2),d=l[0],b=l[1],j=function(e){var t=e.target,n=t.name,r=t.value;b((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){s&&b(s)}),[s]);return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-96 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl p-6",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:[s?"Update":"Add"," Vendor"]}),Object(bt.jsxs)("div",{className:"mt-10",children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Name"}),Object(bt.jsx)("input",{className:"input-field",type:"text",name:"name",onChange:j,value:d.name})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Description"}),Object(bt.jsx)("textarea",{className:"input-field",name:"description",onChange:j,value:d.description})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",onClick:function(){if(s){var e=d.id,t=d.name,r=d.description;a(function(e,t){return function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bn(e,t);case 2:200===(s=n.sent).status&&(r((c=s.data,{type:fe,payload:c})),Be.b.success("Vendor Updated Successfully"));case 4:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,{name:t,description:r})).then((function(){n(!1),b(c)}))}else{var i=d.name,l=d.description;a((j={name:i,description:l},function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(j);case 2:200===(n=e.sent).status&&(t((r=n.data,{type:de,payload:r})),Be.b.success("Vendor Created Successfully"));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){n(!1),b(c)}))}var j},className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return n(!1)},children:"Close"})]})]})})})},mn=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{vendors:e.vendors}})).vendors,a=Object(r.useState)({id:null,name:"",description:""}),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(r.useState)(!1),j=Object(O.a)(b,2),m=j[0],x=j[1];Object(r.useEffect)((function(){s(function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn();case 2:200===(n=e.sent).status&&t((r=n.data,{type:je,payload:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())}),[s]);var p=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,un(e);case 2:if(200!==t.sent.status){t.next=9;break}return t.next=6,dn();case 6:r=t.sent,n((s=r.data,{type:pe,payload:s})),Be.b.success("Vendor Deleted Successfully");case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},f=JSON.parse(localStorage.getItem("user"));return Object(bt.jsxs)("div",{children:[Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Vendors"}),c.length?Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Description"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:c.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{children:e.name}),Object(bt.jsx)("td",{children:e.description?e.description:"N/A"}),Object(bt.jsx)("td",{children:("superAdmin"===(null===f||void 0===f?void 0:f.role)||"admin"===(null===f||void 0===f?void 0:f.role))&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return p(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return function(e){var t=e._id,r=e.name,s=e.description;d({id:t,name:r,description:s}),n(!1),setTimeout((function(){x(!0)}),Yt)}(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})})]},e._id)}))})]})}):Object(bt.jsx)("h1",{className:"p-4",children:"No Vendors available"}),Object(bt.jsx)("div",{className:"mt-4",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})}),Object(bt.jsx)(jn,{isOpen:m,setIsOpen:x,vendorData:l})]})},xn=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{categories:e.categories}})).categories,a=Object(r.useState)({id:null,name:"",description:""}),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(r.useState)(!1),j=Object(O.a)(b,2),m=j[0],x=j[1];Object(r.useEffect)((function(){s(en())}),[s]);var p=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zt(e);case 2:if(200!==t.sent.status){t.next=9;break}return t.next=6,Wt();case 6:r=t.sent,n((s=r.data,{type:L,payload:s})),Be.b.success("Category Deleted Successfully");case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},f=JSON.parse(localStorage.getItem("user"));return Object(bt.jsxs)("div",{children:[Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Categories"}),c.length>0?Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Description"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:c.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{children:e.name}),Object(bt.jsx)("td",{children:e.description?e.description:"N/A"}),Object(bt.jsx)("td",{children:("superAdmin"===(null===f||void 0===f?void 0:f.role)||"admin"===(null===f||void 0===f?void 0:f.role))&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return p(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return function(e){var t=e._id,r=e.name,s=e.description;d({_id:t,name:r,description:s}),n(!1),setTimeout((function(){x(!0)}),Yt)}(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})})]},e._id)}))})]})}):Object(bt.jsx)("h1",{className:"p-4",children:"No Categories available"}),Object(bt.jsx)("div",{className:"mt-4",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})}),Object(bt.jsx)(cn,{isOpen:m,setIsOpen:x,categoryData:l})]})};function On(e){return $e.post("/store",e)}function pn(){return $e.get("/store")}function fn(e,t){return $e.patch("/store/".concat(e),t)}function hn(e){return $e.delete("/store/".concat(e))}var vn=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.storeData,c={name:"",address:""},a=Object(r.useState)(c),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(E.b)(),j=function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){s&&d(s)}),[s]);return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:[s?"Update":"Add"," Store"]}),Object(bt.jsxs)("div",{className:"mt-10",children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Name"}),Object(bt.jsx)("input",{className:"input-field",name:"name",onChange:j,value:l.name})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Address"}),Object(bt.jsx)("textarea",{className:"input-field",type:"",name:"address",onChange:j,value:l.address})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){var e,t,r=l.name,a=l.address;if(r.length)if(s){var i=l._id;b((e=i,t={name:r,address:a},function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fn(e,t);case 2:200===(s=n.sent).status&&(r((c=s.data,{type:q,payload:c})),Be.b.success("Store Updated Successfully"));case 4:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){n(!1),d(c)}))}else b(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,On(e);case 2:200===(r=t.sent).status&&(n((s=r.data,{type:F,payload:s})),Be.b.success("Store Created Successfully"));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)).then((function(){n(!1),d(c)}))},children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return n(!1)},children:"Close"})]})]})})})},gn=function(e){var t=e.isOpen,n=e.setIsOpen,s=Object(E.b)(),c=Object(E.c)((function(e){return{stores:e.stores}})).stores,a=Object(r.useState)({id:null,name:"",address:""}),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(r.useState)(!1),j=Object(O.a)(b,2),m=j[0],x=j[1];Object(r.useEffect)((function(){s(function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn();case 2:200===(n=e.sent).status&&t((r=n.data,{type:J,payload:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())}),[s]);var p=function(e){s(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hn(e);case 2:if(200!==t.sent.status){t.next=9;break}return t.next=6,pn();case 6:r=t.sent,n((s=r.data,{type:M,payload:s})),Be.b.success("Store Deleted Successfully");case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(bt.jsxs)("div",{children:[Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Stores"}),c.length?Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Address"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:c.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{children:e.name}),Object(bt.jsx)("td",{children:e.address?e.address:"N/A"}),Object(bt.jsxs)("td",{children:[Object(bt.jsx)("button",{className:"btn-sm-red",onClick:function(){return p(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return function(e){var t=e._id,r=e.name,s=e.address;d({_id:t,name:r,address:s}),n(!1),setTimeout((function(){x(!0)}),Yt)}(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})]},e._id)}))})]})}):Object(bt.jsx)("h1",{className:"p-4",children:"No Stores available"}),Object(bt.jsx)("div",{className:"mt-4",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})}),Object(bt.jsx)(vn,{isOpen:m,setIsOpen:x,storeData:l})]})};function yn(e){return $e.post("/expenses",e)}function Nn(e,t){return $e.get("/expenses?page=".concat(t.page,"&&per_page=").concat(t.perPage),{params:e})}function wn(e,t){return $e.patch("/expenses/".concat(e),t)}function Sn(e){return $e.delete("/expenses/".concat(e))}var Cn=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.expenseData,c={name:"",amount:"",details:""},a=Object(r.useState)(c),i=Object(O.a)(a,2),l=i[0],d=i[1],b=Object(E.b)(),j=function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))};Object(r.useEffect)((function(){s&&d(s)}),[s]);return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsxs)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:[s?"Update":"Add"," Expense"]}),Object(bt.jsxs)("div",{className:"mt-10",children:[Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Name"}),Object(bt.jsx)("input",{className:"input-field",name:"name",onChange:j,value:l.name})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Amount"}),Object(bt.jsx)("input",{className:"input-field",name:"amount",type:"number",onChange:j,value:l.amount})]}),Object(bt.jsxs)("div",{className:"flex flex-col my-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Details"}),Object(bt.jsx)("textarea",{className:"input-field",type:"",name:"details",onChange:j,value:l.details})]})]}),Object(bt.jsxs)("div",{className:"mt-4",children:[Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){var e,t,r=l.name,a=l.amount,i=l.details;if(null!==s&&void 0!==s&&s._id){var j=l._id;b((e=j,t={name:r,amount:a,details:i},function(){var n=Object(o.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wn(e,t);case 2:200===(s=n.sent).status&&(r((c=s.data,{type:ve,payload:c})),Be.b.success("Expense Updated Successfully"));case 4:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){n(!1),d(c)}))}else b(function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yn(e);case 2:200===(r=t.sent).status&&(n((s=r.data,{type:ue,payload:s})),Be.b.success("Expense Created Successfully"));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)).then((function(){n(!1),d(c)}))},children:"Submit"}),Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ml-3",onClick:function(){return n(!1)},children:"Close"})]})]})})})},_n=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),a=Object(O.a)(c,2),i=a[0],l=a[1],o=Object(r.useState)(!1),d=Object(O.a)(o,2),u=d[0],m=d[1],x=Object(r.useState)(!1),p=Object(O.a)(x,2),f=p[0],h=p[1],g=Object(r.useState)(!1),y=Object(O.a)(g,2),N=y[0],w=y[1],S=Object(r.useState)(!1),C=Object(O.a)(S,2),_=C[0],k=C[1],P=Object(r.useState)(!1),T=Object(O.a)(P,2),I=T[0],D=T[1],A=Object(r.useState)(!1),R=Object(O.a)(A,2),U=R[0],Q=R[1],L=Object(r.useState)(!1),F=Object(O.a)(L,2),q=F[0],M=F[1],G=Object(r.useState)(!1),z=Object(O.a)(G,2),J=z[0],V=z[1],H=Object(r.useState)(!1),B=Object(O.a)(H,2),X=B[0],Y=B[1],K=Object(r.useState)(!1),W=Object(O.a)(K,2),$=W[0],Z=W[1],ee=Object(j.e)(),te=Object(E.b)(),ne=JSON.parse(localStorage.getItem("user"));return Object(bt.jsxs)("div",{children:[Object(bt.jsxs)("div",{className:"grid xl:grid-cols-2 sm:grid-cols-1 space-x-3 sm:space-y-4 xl:space-y-0",children:[Object(bt.jsxs)("div",{className:"flex space-x-2",children:[Object(bt.jsxs)("div",{className:"flex",children:[Object(bt.jsxs)("button",{className:"flex align-middle btn-green",onClick:function(){return s(!0)},children:[Object(bt.jsx)(Gt.a,{className:"mr-2 h-6"}),"Products"]}),("superAdmin"===(null===ne||void 0===ne?void 0:ne.role)||"admin"===(null===ne||void 0===ne?void 0:ne.role))&&Object(bt.jsx)("button",{className:"btn-sm-yellow",onClick:function(){return l(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]}),Object(bt.jsxs)("div",{className:"flex",children:[Object(bt.jsxs)("button",{className:"flex align-middle btn-green",onClick:function(){return Q(!0)},children:[Object(bt.jsx)(zt.a,{className:"mr-2 h-6"}),"Categories"]}),("superAdmin"===(null===ne||void 0===ne?void 0:ne.role)||"admin"===(null===ne||void 0===ne?void 0:ne.role))&&Object(bt.jsx)("button",{className:"btn-sm-yellow",onClick:function(){return m(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]}),"superAdmin"===(null===ne||void 0===ne?void 0:ne.role)&&Object(bt.jsxs)("div",{className:"flex",children:[Object(bt.jsxs)("button",{className:"flex align-middle btn-green",onClick:function(){return M(!0)},children:[Object(bt.jsx)(Jt.a,{className:"mr-2 h-6"}),"Store"]}),Object(bt.jsx)("button",{className:"btn-sm-yellow",onClick:function(){return Y(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]}),Object(bt.jsxs)("button",{className:"flex align-middle btn-blue",onClick:function(){return h(!0)},children:[Object(bt.jsx)(Vt.a,{className:"mr-2 h-6"}),"Customers"]}),"superAdmin"!==(null===ne||void 0===ne?void 0:ne.role)&&Object(bt.jsxs)("button",{className:"flex align-middle btn-blue",onClick:function(){return Z(!0)},children:[Object(bt.jsx)(Ht.a,{className:"mr-2 h-6"}),"Add Expense"]})]}),Object(bt.jsxs)("div",{className:"flex space-x-2 xl:justify-end",children:["admin"===(null===ne||void 0===ne?void 0:ne.role)&&(ee.pathname.includes("/transactions")?Object(bt.jsx)(b.b,{to:"/",children:Object(bt.jsxs)("button",{className:"flex align-middle btn-green",children:[Object(bt.jsx)(Bt.a,{className:"mr-2 h-6"}),"Point of Sale"]})}):Object(bt.jsx)(b.b,{to:"/transactions",children:Object(bt.jsxs)("button",{className:"flex align-middle btn-green",children:[Object(bt.jsx)(Bt.a,{className:"mr-2 h-6"}),"Transactions"]})})),Object(bt.jsxs)("div",{className:"flex",children:[Object(bt.jsxs)("button",{className:"flex align-middle btn-green",onClick:function(){return D(!0)},children:[Object(bt.jsx)(Vt.a,{className:"mr-2 h-6"}),"Vendors"]}),("superAdmin"===(null===ne||void 0===ne?void 0:ne.role)||"admin"===(null===ne||void 0===ne?void 0:ne.role))&&Object(bt.jsx)("button",{className:"btn-sm-gray",onClick:function(){return V(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]}),("superAdmin"===(null===ne||void 0===ne?void 0:ne.role)||"admin"===(null===ne||void 0===ne?void 0:ne.role))&&Object(bt.jsx)(bt.Fragment,{children:Object(bt.jsxs)("div",{className:"flex",children:[Object(bt.jsxs)("button",{className:"flex align-middle btn-green",onClick:function(){return k(!0)},children:[Object(bt.jsx)(Vt.a,{className:"mr-2 h-6"}),"Users"]}),Object(bt.jsx)("button",{className:"btn-sm-gray",onClick:function(){return w(!0)},children:Object(bt.jsx)(v.a,{className:"h-6"})})]})}),Object(bt.jsx)("button",{className:"btn-sm-yellow",onClick:function(){return te(Ke())},title:"Logout",children:Object(bt.jsx)(Xt.a,{className:"h-6"})})]})]}),Object(bt.jsx)(sn,{isOpen:n,setIsOpen:s}),Object(bt.jsx)(tn,{isOpen:i,setIsOpen:l}),Object(bt.jsx)(cn,{isOpen:u,setIsOpen:m}),Object(bt.jsx)(ln,{isOpen:_,setIsOpen:k}),Object(bt.jsx)(wt,{isOpen:N,setIsOpen:w}),Object(bt.jsx)(an,{isOpen:f,setIsOpen:h}),Object(bt.jsx)(jn,{isOpen:J,setIsOpen:V}),Object(bt.jsx)(mn,{isOpen:I,setIsOpen:D}),Object(bt.jsx)(xn,{isOpen:U,setIsOpen:Q}),Object(bt.jsx)(gn,{isOpen:q,setIsOpen:M}),Object(bt.jsx)(vn,{isOpen:X,setIsOpen:Y}),Object(bt.jsx)(Cn,{isOpen:$,setIsOpen:Z})]})},En=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return{products:e.products.products,productsFilter:e.products.productsFilter,categories:e.categories,currentPage:e.products.currentPage,totalPages:e.products.totalPages,currentOrder:e.orders.currentOrder,orderStatus:e.orders.orderStatus,onlineStatus:e.onlineStatus.onlineStatus,allProducts:e.products.allProducts}})),n=t.products,s=t.productsFilter,c=t.categories,a=t.currentPage,i=t.totalPages,l=t.currentOrder,o=t.orderStatus,d=t.onlineStatus,u=t.allProducts,b=Object(r.useState)({category_id:null,name:""}),j=Object(O.a)(b,2),x=j[0],p=j[1];var f=function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(){for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,c)}),r)}}((function(t){var n=t.target.value;e(Ut(Object(m.a)(Object(m.a)({},s),{},{keyword:n}))),d?e(Ut(Object(m.a)(Object(m.a)({},s),{},{keyword:n}))):p((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:n})}))})),h=function(t){e(Ut(Object(m.a)(Object(m.a)({},s),{},{page:t})))},v=d?n:u.filter((function(e){return e.name.toLowerCase().includes(x.name.toLowerCase())})).filter((function(e){return!x.category_id||e.category_id===x.category_id}));return Object(bt.jsxs)("div",{className:"p-10 bg-white ml-4 mt-6 lg:col-span-2",children:[Object(bt.jsxs)("div",{className:"grid xl:grid-cols-3   sm:grid-cols-1",children:[Object(bt.jsx)("div",{className:"",children:Object(bt.jsx)("input",{type:"text",className:"input-field sm:w-full xl:w-auto",placeholder:"Search Product by name or sku",onChange:f})}),Object(bt.jsx)("div",{className:"space-x-2",children:Object(bt.jsxs)("select",{className:"input-select w-full",name:"category_id",onChange:function(t){var n=t.target.value;d?e(Ut(Object(m.a)(Object(m.a)({},s),{},{category_id:n}))):p((function(e){return Object(m.a)(Object(m.a)({},e),{},{category_id:""===n?null:Number(n)})}))},value:d?s.category_id:x.category_id,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select Category"}),Object(bt.jsx)("option",{value:"",children:"All"}),c&&c.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),d&&Object(bt.jsx)("div",{className:"space-x-2 flex justify-end",children:Object(bt.jsxs)("select",{className:"input-select xl:w-2/4 sm:w-full",name:"per_page",onChange:function(t){var n=t.target.value;e(Ut(Object(m.a)(Object(m.a)({},s),{},{per_page:n})))},value:s.per_page,children:[Object(bt.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Per Page"}),Object(bt.jsx)("option",{children:"5"}),Object(bt.jsx)("option",{children:"10"}),Object(bt.jsx)("option",{children:"15"}),Object(bt.jsx)("option",{children:"20"})]})})]}),Object(bt.jsx)("div",{className:"grid xl:grid-cols-5 sm:grid-cols-1",children:v&&v.map((function(t){return Object(bt.jsxs)("div",{className:"flex flex-col justify-center border mt-6 p-4 w-full cursor-pointer shadow-md rounded-sm",onClick:function(){return function(t){var n=l.filter((function(e){return e._id===t._id}));n.length>0?e(rt(o,Object(m.a)(Object(m.a)({},t),{},{orderQuantity:Number(n[n.length-1].orderQuantity)<Number(t.quantity)?n[n.length-1].orderQuantity+1:n[n.length-1].orderQuantity}))):e(rt(o,Object(m.a)(Object(m.a)({},t),{},{orderQuantity:1})))}(t)},children:[Object(bt.jsxs)("div",{className:"space-y-2 border-b p-2",children:[Object(bt.jsx)("img",{src:t.imgUrl||"https://mrcodpakistan.com/wp-content/uploads/2018/09/noImg_2.jpg",alt:"product",className:"h-56 mx-auto object-contain"}),Object(bt.jsx)("p",{className:"text-center text-gray-400 font-bold",children:t.name})]}),Object(bt.jsxs)("div",{className:"mt-3 mx-auto",children:[Object(bt.jsxs)("p",{className:"text-center text-red-400 font-extrabold",children:["Available: ",t.quantity]}),Object(bt.jsxs)("p",{className:"text-center text-green-400 font-mono font-extrabold",children:["Rs ",t.price]})]})]},t._id)}))}),n.length>0&&d&&Object(bt.jsx)("div",{className:"flex my-3 justify-center",children:Object(bt.jsx)("nav",{"aria-label":"Page navigation example",children:Object(bt.jsxs)("ul",{className:"pagination",children:[Object(bt.jsx)("li",{className:"page-item",onClick:function(){return 1!==a&&h(s.page-1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Array(i).fill().map((function(e,t){return Object(bt.jsx)("li",{className:"page-item ".concat(a===t+1&&"active"),onClick:function(){return h(t+1)},children:Object(bt.jsx)("button",{className:"page-link",href:".",children:t+1})},t)})),Object(bt.jsx)("li",{className:"page-item",onClick:function(){return a<i&&h(s.page+1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})]})},kn=function(){return Object(bt.jsxs)("div",{className:"p-10",children:[Object(bt.jsx)(_n,{}),Object(bt.jsxs)("div",{className:"grid xl:grid-cols-3 sm:grid-cols-1  h-auto",children:[Object(bt.jsx)(Mt,{}),Object(bt.jsx)(En,{})]})]})},Pn=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(j.e)().state,n=Object(j.f)();return Object(r.useEffect)((function(){"superAdmin"===e.role&&(window.location.href="/transactions")}),[]),Object(r.useEffect)((function(){t&&null!==t&&void 0!==t&&t.salesman&&n("/")}),[]),Object(bt.jsx)(kn,{})},Tn=n(176),In=function(e){var t=e.isOpen,n=e.setIsOpen,r=e.orderDetails,s=Object(E.b)(),c=Object(E.c)((function(e){return{productsFilter:e.products.productsFilter,categories:e.categories,vendors:e.vendors,order:e.orders.order}})),a=c.categories,i=c.vendors,l=c.order,o=Object(j.f)(),d=function(e){var t=a&&a.find((function(t){return t._id===e}));return t?t.name:"N/A"},u=function(e){var t=i&&i.find((function(t){return t._id===e}));return t?t.name:"N/A"};return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Order Items"}),Object(bt.jsx)("div",{className:"mt-10 h-30v overflow-y-auto",children:Object(bt.jsxs)("table",{className:"table-fixed product-table border-2",children:[Object(bt.jsx)("thead",{className:"sticky top-0 z-10 bg-white",children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Barcode"}),Object(bt.jsx)("th",{children:"Item"}),Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Price"}),Object(bt.jsx)("th",{children:"Quantity"}),Object(bt.jsx)("th",{children:"Category"}),Object(bt.jsx)("th",{children:"Vendor"}),Object(bt.jsx)("th",{children:"Subtotal"}),Object(bt.jsx)("th",{children:"Action"})]})}),Object(bt.jsx)("tbody",{children:r&&r.map((function(e,t){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{}),Object(bt.jsx)("td",{children:t+1}),Object(bt.jsx)("td",{children:e.product.name}),Object(bt.jsx)("td",{children:e.currentPrice}),Object(bt.jsx)("td",{children:e.quantity}),Object(bt.jsx)("td",{children:d(e.category)}),Object(bt.jsx)("td",{children:u(e.vendor)}),Object(bt.jsx)("td",{children:e.paidPrice}),Object(bt.jsx)("td",{children:Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return s(rt(e)),s(ft(null===l||void 0===l?void 0:l.customer)),s(at("UPDATE_ORDER")),void o("/",{state:{salesman:l.salesman_id}})},children:Object(bt.jsx)(_t.a,{className:"h-4"})})})]},e._id)}))})]})}),Object(bt.jsx)("div",{className:"mt-4 flex items-end h-auto",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})})})},Dn=n(69),An=n(19);An.c.register.apply(An.c,Object(x.a)(An.j));var Rn=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return{orders:e.orders,users:e.users,productsStats:e.products.productsStats,salesman:e.users.filter((function(e){return"salesman"===e.role})),orderStatus:e.orders.orderStatus,totalTransactions:e.orders.totalTransactions,totalSales:e.orders.totalSales,totalProfit:e.orders.totalProfit,chartStats:e.orders.chartStats,stores:e.stores}})),n=t.orders,s=t.users,c=t.productsStats,a=t.salesman,i=t.orderStatus,l=t.totalTransactions,d=t.totalProfit,b=t.totalSales,x=t.chartStats,p=t.stores,f=JSON.parse(localStorage.getItem("user")),h=Object(j.f)(),v=Object(r.useState)({created_at_gteq:"",created_at_lteq:"",status_in:"",cashier_id_eq:"",salesman_id_eq:"",store:"",invoiceNo:""}),g=Object(O.a)(v,2),y=g[0],N=g[1],w=Object(r.useState)(!1),S=Object(O.a)(w,2),C=S[0],_=S[1],k=Object(r.useState)(null),P=Object(O.a)(k,2),T=P[0],I=P[1],D=Object(r.useState)({perPage:10,page:1,keyword:""}),A=Object(O.a)(D,2),R=A[0],U=A[1];Object(r.useEffect)((function(){var t,n;e((t={query:y},n=R,function(){var e=Object(o.a)(u.a.mark((function e(r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t,n);case 2:return 200===(s=e.sent).status&&r((c=s.data,{type:W,payload:c})),e.abrupt("return",s);case 5:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,y,R]),Object(r.useEffect)((function(){var t;e((t=c.statsFilter,function(){var e=Object(o.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(t);case 2:200===(r=e.sent).status&&n((s=r.data,{type:Ne,payload:s}));case 4:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,c.statsFilter]);var Q=function(t){var n=t.target,r=n.name,s=n.value;if(N((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},r,s))})),"store"===r){var a=c.statsFilter;e(Qt(Object(m.a)(Object(m.a)({},a),{},{store:s})))}},L=function(t){var n=c.statsFilter;e(Qt(Object(m.a)(Object(m.a)({},n),{},{page:t})))},F=function(e){U(Object(m.a)(Object(m.a)({},R),{},{page:e}))};function q(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(){for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,c)}),r)}}var M=q((function(t){var n=c.statsFilter,r=t.target.value;e(Qt(Object(m.a)(Object(m.a)({},n),{},{keyword:r})))})),G=q((function(e){var t=e.target.value;N(Object(m.a)(Object(m.a)({},y),{},{invoiceNo:t}))})),z=function(t){e(st(t)),e(rt(i,function(e){return e.map((function(e){return Object(m.a)(Object(m.a)({},e.product),{},{uuid:Math.random(),currentDiscount:e.currentDiscount,currentPrice:e.currentPrice,orderQuantity:e.quantity,previousQuantity:e.quantity,previousPaid:e.paidPrice})}))}(t.orderItems))),e(ft(null===t||void 0===t?void 0:t.customer)),e(at("UPDATE_ORDER")),h("/",{state:{salesman:null===t||void 0===t?void 0:t.salesman}})},J={labels:x.length>0&&x.map((function(e){return new Date(e._id).toDateString()})),datasets:[{backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1,data:x.length>0&&x.map((function(e){return e.totalSaleAmount}))}]};return Object(bt.jsxs)("div",{children:[Object(bt.jsxs)("div",{className:"grid xl:grid-cols-".concat("superAdmin"===f.role?7:6," sm:grid-cols-2 gap-4 p-5 border-b"),children:[Object(bt.jsx)("h1",{className:"text-2xl text-gray-600 flex items-center",children:"Transactions"}),"superAdmin"===f.role&&Object(bt.jsxs)("div",{className:"flex flex-col",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Store"}),Object(bt.jsxs)("select",{className:"input-select",name:"store",onChange:Q,children:[Object(bt.jsx)("option",{value:"",selected:!0,children:"All"}),p&&p.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Salesman"}),Object(bt.jsxs)("select",{className:"input-select",name:"salesman_id_eq",onChange:Q,children:[Object(bt.jsx)("option",{value:"",children:"All"}),a&&a.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Cashier"}),Object(bt.jsxs)("select",{className:"input-select",name:"cashier_id_eq",onChange:Q,children:[Object(bt.jsx)("option",{value:"",selected:!0,children:"All"}),s&&s.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Status"}),Object(bt.jsxs)("select",{className:"input-select",name:"status_in",onChange:Q,children:[Object(bt.jsx)("option",{value:"",selected:!0,children:"All"}),Object(bt.jsx)("option",{value:"paid",children:"Paid"}),Object(bt.jsx)("option",{value:"onHold",children:"OnHold"})]})]}),Object(bt.jsxs)("div",{className:"flex flex-col col-span-2",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Date"}),Object(bt.jsxs)("div",{className:"flex border bg-white rounded-lg p-2 space-x-3 w-9/12",children:[Object(bt.jsx)("input",{type:"date",className:"",name:"created_at_gteq",onChange:Q}),Object(bt.jsx)("span",{className:"text-gray-500 font-bold",children:"To"}),Object(bt.jsx)("input",{type:"date",className:"",name:"created_at_lteq",onChange:Q})]})]})]}),Object(bt.jsxs)("div",{className:"my-5 grid xl:grid-cols-3 sm:grid-cols-1 gap-4",children:[Object(bt.jsxs)("div",{className:"border p-3",children:[Object(bt.jsxs)("div",{className:"flex justify-between mt-3",children:[Object(bt.jsx)("h1",{className:"text-2xl text-gray-600 flex items-center",children:"Products"}),Object(bt.jsxs)("div",{children:[Object(bt.jsx)("label",{className:"mr-1 text-gray-500 font-bold",children:"Display"}),Object(bt.jsxs)("select",{className:"input-select",onChange:function(t){var n=c.statsFilter,r=t.target.value;e(Qt(Object(m.a)(Object(m.a)({},n),{},{perPage:r})))},value:c.statsFilter.perPage,children:[Object(bt.jsx)("option",{children:"10"}),Object(bt.jsx)("option",{children:"20"}),Object(bt.jsx)("option",{children:"50"}),Object(bt.jsx)("option",{children:"100"})]})]}),Object(bt.jsx)("div",{children:Object(bt.jsx)("input",{type:"text",className:"input-field w-40",placeholder:"Search Products...",onChange:M})})]}),Object(bt.jsx)("div",{className:"h-60v overflow-y-auto my-6",children:Object(bt.jsx)("div",{className:"my-4 h-4/6",children:Object(bt.jsxs)("table",{className:"whitespace-nowrap order-table w-full",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Sold"}),Object(bt.jsx)("th",{children:"Available"}),Object(bt.jsx)("th",{children:"Sales"})]})}),Object(bt.jsx)("tbody",{children:c.stats&&c.stats.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:e.product.name}),Object(bt.jsx)("td",{className:"",children:e.sold}),Object(bt.jsx)("td",{className:"",children:e.available}),Object(bt.jsxs)("td",{className:"",children:["Rs ",e.sales]})]},e._id)}))})]})})}),c.stats.length>0&&Object(bt.jsx)("div",{className:"flex my-3 justify-center",children:Object(bt.jsx)("nav",{"aria-label":"Page navigation example",children:Object(bt.jsxs)("ul",{className:"pagination",children:[Object(bt.jsx)("li",{className:"page-item",onClick:function(){return 1!==c.currentPage&&L(c.currentPage-1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Array(c.totalPages).fill().map((function(e,t){return Object(bt.jsx)("li",{className:"page-item ".concat(c.currentPage===t+1&&"active"),onClick:function(){return L(t+1)},children:Object(bt.jsx)("button",{className:"page-link",href:".",children:t+1})},t)})),Object(bt.jsx)("li",{className:"page-item",onClick:function(){return c.currentPage<c.totalPages&&L(c.currentPage+1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})]}),Object(bt.jsxs)("div",{className:"xl:col-span-2",children:[Object(bt.jsxs)("div",{className:"border-b pb-2 flex justify-between p-2",children:[Object(bt.jsx)("h1",{className:"text-2xl text-gray-600 flex items-center",children:"Total"}),Object(bt.jsx)("div",{children:Object(bt.jsx)("input",{type:"text",className:"input-field",placeholder:"Search with invoice#...",onChange:G})}),Object(bt.jsxs)("div",{children:[Object(bt.jsx)("label",{className:"mr-1 text-gray-500 font-bold",children:"Display records"}),Object(bt.jsxs)("select",{className:"input-select",value:R.perPage,onChange:function(e){return U(Object(m.a)(Object(m.a)({},R),{},{perPage:e.target.value}))},children:[Object(bt.jsx)("option",{children:"5"}),Object(bt.jsx)("option",{children:"10"}),Object(bt.jsx)("option",{children:"20"}),Object(bt.jsx)("option",{children:"50"}),Object(bt.jsx)("option",{children:"100"})]})]})]}),Object(bt.jsxs)("div",{className:"grid xl:grid-cols-4 sm:grid-cols-1 mt-3",children:[Object(bt.jsxs)("div",{className:"space-y-3 text-sm font-medium sm:grid sm:grid-cols-2 xl:block my-3",children:[Object(bt.jsx)("div",{className:"w-56 h-40 bg-green-100 rounded-md",children:Object(bt.jsxs)("div",{className:"text-2xl text-green-900 flex flex-col h-full items-center justify-center",children:[Object(bt.jsx)("h1",{children:"Sales"}),Object(bt.jsxs)("h1",{children:["Rs ",Math.round(b)]})]})}),Object(bt.jsx)("div",{className:"w-56 h-40 bg-yellow-100 rounded-md",children:Object(bt.jsxs)("div",{className:"text-2xl text-yellow-900 flex flex-col h-full items-center justify-center",children:[Object(bt.jsx)("h1",{children:"Transactions"}),Object(bt.jsx)("h1",{children:l})]})}),Object(bt.jsx)("div",{className:"w-56 h-40 bg-blue-100 rounded-md",children:Object(bt.jsxs)("div",{className:"text-2xl text-blue-900 flex flex-col h-full items-center justify-center",children:[Object(bt.jsx)("h1",{children:"Profit"}),Object(bt.jsxs)("h1",{children:["Rs ",d]})]})})]}),Object(bt.jsxs)("div",{className:"col-span-3 my-3",children:[Object(bt.jsx)("div",{className:"h-60v overflow-y-auto border",children:Object(bt.jsx)("div",{className:"h-4/6",children:Object(bt.jsxs)("table",{className:"whitespace-nowrap order-table",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Invoice"}),Object(bt.jsx)("th",{children:"Customer"}),Object(bt.jsx)("th",{children:"Date"}),Object(bt.jsx)("th",{children:"Total"}),Object(bt.jsx)("th",{children:"Paid"}),Object(bt.jsx)("th",{children:"Change"}),Object(bt.jsx)("th",{children:"Method"}),Object(bt.jsx)("th",{children:"Status"}),Object(bt.jsx)("th",{children:"Cashier"}),Object(bt.jsx)("th",{children:"Salesman"}),Object(bt.jsx)("th",{children:"View"})]})}),Object(bt.jsx)("tbody",{children:n.allOrders&&n.allOrders.map((function(e){var t,n,r;return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:(null===e||void 0===e?void 0:e.invoiceNo)||"N/A"}),Object(bt.jsx)("td",{children:(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.name)||"N/A"}),Object(bt.jsx)("td",{className:"",children:new Date(e.createdAt).toDateString()}),Object(bt.jsxs)("td",{className:"",children:["Rs: ",Math.round(e.total)]}),Object(bt.jsxs)("td",{className:"",children:["Rs: ",Math.round(e.total)]}),Object(bt.jsxs)("td",{children:["Rs: ",null!==e&&void 0!==e&&e.change?e.change:0]}),Object(bt.jsx)("td",{children:"Cash"}),Object(bt.jsx)("td",{children:Object(bt.jsx)("p",{className:"rounded-full text-sm font-medium px-3 py-2 ".concat("paid"===e.status?"bg-green-100 text-green-900":"bg-yellow-100 text-yellow-900"),children:e.status.toUpperCase()})}),Object(bt.jsx)("td",{children:null===(n=e.cashier)||void 0===n?void 0:n.name}),Object(bt.jsx)("td",{children:(null===e||void 0===e||null===(r=e.salesman)||void 0===r?void 0:r.name)||"N/A"}),Object(bt.jsxs)("td",{children:[Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return I(e.orderItems),void _(!0)},children:Object(bt.jsx)(Tn.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-green ml-3",onClick:function(){return z(e)},children:Object(bt.jsx)(_t.a,{className:"h-4"})})]})]},e._id)}))})]})})}),c.stats.length>0&&Object(bt.jsx)("div",{className:"flex my-3 justify-center",children:Object(bt.jsx)("nav",{"aria-label":"Page navigation example",children:Object(bt.jsxs)("ul",{className:"pagination",children:[Object(bt.jsx)("li",{className:"page-item",onClick:function(){return 1!==n.currentPage&&F(n.currentPage-1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Array(n.totalPages).fill().map((function(e,t){return Object(bt.jsx)("li",{className:"page-item ".concat(n.currentPage===t+1&&"active"),onClick:function(){return F(t+1)},children:Object(bt.jsx)("button",{className:"page-link",href:".",children:t+1})},t)})),Object(bt.jsx)("li",{className:"page-item",onClick:function(){return n.currentPage<n.totalPages&&F(n.currentPage+1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})]})]})]})]}),Object(bt.jsx)("h1",{className:"text-center text-4xl font-extrabold text-gray-600",children:"Total Sales Chart"}),Object(bt.jsxs)("div",{className:"my-5 grid xl:grid-cols-2 sm:grid-cols-1 gap-2",children:[Object(bt.jsx)("div",{className:"h-3/5 w-3/5",children:Object(bt.jsx)(Dn.a,{data:J,options:{responsive:!0,maintainAspectRatio:!0}})}),Object(bt.jsx)("div",{className:"border p-3",children:Object(bt.jsx)("div",{className:"h-60v overflow-y-auto my-6",children:Object(bt.jsx)("div",{className:"my-4 h-4/6",children:Object(bt.jsxs)("table",{className:"whitespace-nowrap order-table w-full",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Date"}),Object(bt.jsx)("th",{children:"Total Sale"}),Object(bt.jsx)("th",{children:"Total Transactions"})]})}),Object(bt.jsx)("tbody",{children:x&&x.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:new Date(e._id).toDateString()}),Object(bt.jsxs)("td",{className:"",children:["RS ",e.totalSaleAmount]}),Object(bt.jsx)("td",{className:"",children:e.count})]},e._id)}))})]})})})})]}),Object(bt.jsx)(In,{isOpen:C,setIsOpen:_,orderDetails:T})]})},Un=function(e){var t=e.isOpen,n=e.setIsOpen,r=e.expenseDetails;return Object(bt.jsx)("div",{children:Object(bt.jsx)(jt,{isOpen:t,setIsOpen:n,children:Object(bt.jsxs)("div",{className:"inline-block w-auto p-6 my-8 text-left align-middle transition-all transform bg-white shadow-2xl rounded-2xl overflow-y-auto",children:[Object(bt.jsx)(ut.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 border-b pb-2",children:"Expense Details"}),Object(bt.jsx)("div",{className:"mt-10 h-auto overflow-y-auto",children:Object(bt.jsx)("h1",{children:null===r||void 0===r?void 0:r.details})}),Object(bt.jsx)("div",{className:"mt-4",children:Object(bt.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:function(){return n(!1)},children:"Close"})})]})})})},Qn=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return{expenses:e.expenses.expenses,totalPages:e.expenses.totalPages,totalExpense:e.expenses.totalExpense,currentPage:e.expenses.currentPage,noOfExpenses:e.expenses.noOfExpenses,expenseStats:e.expenses.expenseStats,stores:e.stores}})),n=t.expenses,s=t.totalPages,c=t.totalExpense,a=t.currentPage,i=t.noOfExpenses,l=t.expenseStats,d=t.stores,b=JSON.parse(localStorage.getItem("user")),j=Object(r.useState)({created_at_gteq:"",created_at_lteq:"",store:""}),x=Object(O.a)(j,2),p=x[0],f=x[1],h=Object(r.useState)(!1),v=Object(O.a)(h,2),g=v[0],y=v[1],w=Object(r.useState)(!1),S=Object(O.a)(w,2),C=S[0],_=S[1],k=Object(r.useState)(null),P=Object(O.a)(k,2),T=P[0],I=P[1],D=Object(r.useState)({perPage:10,page:1}),A=Object(O.a)(D,2),R=A[0],U=A[1];Object(r.useEffect)((function(){var t,n;e((t={query:p},n=R,function(){var e=Object(o.a)(u.a.mark((function e(r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(t,n);case 2:200===(s=e.sent).status&&r((c=s.data,{type:me,payload:c}));case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,p,R]);var Q=function(e){var t=e.target,n=t.name,r=t.value;f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(dt.a)({},n,r))}))},L=function(e){U(Object(m.a)(Object(m.a)({},R),{},{page:e}))},F=function(t){e(function(e,t,n){return function(){var r=Object(o.a)(u.a.mark((function r(s){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sn(e);case 2:if(200!==r.sent.status){r.next=9;break}return r.next=6,Nn(t,n);case 6:c=r.sent,s((a=c.data,{type:he,payload:a})),Be.b.success("Expense Deleted Successfully");case 9:case"end":return r.stop()}var a}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,{query:p},R))};return Object(bt.jsxs)("div",{children:[Object(bt.jsxs)("div",{className:"p-5 border-b flex justify-between flex-wrap",children:[Object(bt.jsx)("h1",{className:"text-2xl text-gray-600 flex items-center",children:"Expenses"}),"superAdmin"===b.role&&Object(bt.jsxs)("div",{className:"flex flex-col",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Store"}),Object(bt.jsxs)("select",{className:"input-select",name:"store",onChange:Q,children:[Object(bt.jsx)("option",{value:"",selected:!0,children:"All"}),d&&d.map((function(e){return Object(bt.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(bt.jsxs)("div",{className:"flex flex-col",children:[Object(bt.jsx)("label",{className:"mb-1 text-gray-500 font-bold",children:"Date"}),Object(bt.jsxs)("div",{className:"flex border bg-white rounded-lg p-2 space-x-3",children:[Object(bt.jsx)("input",{type:"date",className:"",name:"created_at_gteq",onChange:Q}),Object(bt.jsx)("span",{className:"text-gray-500 font-bold",children:"To"}),Object(bt.jsx)("input",{type:"date",className:"",name:"created_at_lteq",onChange:Q})]})]})]}),Object(bt.jsxs)("div",{className:"my-5 grid xl:grid-cols-3 sm:grid-cols-1 gap-4",children:[Object(bt.jsx)("div",{className:"border p-3",children:Object(bt.jsx)("div",{className:"h-60v overflow-y-auto my-6",children:Object(bt.jsx)("div",{className:"my-4 h-4/6",children:Object(bt.jsxs)("table",{className:"whitespace-nowrap order-table w-full",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Date"}),Object(bt.jsx)("th",{children:"Total Expense"}),Object(bt.jsx)("th",{children:"No Of Expenses"})]})}),Object(bt.jsx)("tbody",{children:l&&l.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:new Date(e._id).toDateString()}),Object(bt.jsx)("td",{className:"",children:e.totalExpense}),Object(bt.jsx)("td",{className:"",children:e.count})]},e._id)}))})]})})})}),Object(bt.jsxs)("div",{className:"xl:col-span-2",children:[Object(bt.jsxs)("div",{className:"border-b pb-2 flex justify-between p-2",children:[Object(bt.jsx)("h1",{className:"text-2xl text-gray-600 flex items-center",children:"Total"}),Object(bt.jsxs)("div",{children:[Object(bt.jsx)("label",{className:"mr-1 text-gray-500 font-bold",children:"Display records"}),Object(bt.jsxs)("select",{className:"input-select",value:R.perPage,onChange:function(e){return U(Object(m.a)(Object(m.a)({},R),{},{perPage:e.target.value}))},children:[Object(bt.jsx)("option",{children:"5"}),Object(bt.jsx)("option",{children:"10"}),Object(bt.jsx)("option",{children:"20"}),Object(bt.jsx)("option",{children:"50"}),Object(bt.jsx)("option",{children:"100"})]})]})]}),Object(bt.jsxs)("div",{className:"grid xl:grid-cols-4 sm:grid-cols-1 mt-3",children:[Object(bt.jsxs)("div",{className:"space-y-3 text-sm font-medium sm:grid sm:grid-cols-2 xl:block my-3",children:[Object(bt.jsx)("div",{className:"w-56 h-40 bg-green-100 rounded-md",children:Object(bt.jsxs)("div",{className:"text-2xl text-green-900 flex flex-col h-full items-center justify-center",children:[Object(bt.jsx)("h1",{children:"Total Expenses"}),Object(bt.jsxs)("h1",{children:["Rs ",Math.round(c)]})]})}),Object(bt.jsx)("div",{className:"w-56 h-40 bg-yellow-100 rounded-md",children:Object(bt.jsxs)("div",{className:"text-2xl text-yellow-900 flex flex-col h-full items-center justify-center",children:[Object(bt.jsx)("h1",{children:"No of Expenses"}),Object(bt.jsx)("h1",{children:i})]})})]}),Object(bt.jsxs)("div",{className:"col-span-3 my-3",children:[Object(bt.jsx)("div",{className:"h-60v overflow-y-auto border",children:Object(bt.jsx)("div",{className:"h-4/6",children:Object(bt.jsxs)("table",{className:"whitespace-nowrap order-table w-full",children:[Object(bt.jsx)("thead",{children:Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("th",{children:"Name"}),Object(bt.jsx)("th",{children:"Date"}),Object(bt.jsx)("th",{children:"Amount"}),Object(bt.jsx)("th",{children:"Actions"})]})}),Object(bt.jsx)("tbody",{children:n&&n.map((function(e){return Object(bt.jsxs)("tr",{children:[Object(bt.jsx)("td",{className:"",children:e.name||"N/A"}),Object(bt.jsx)("td",{children:new Date(e.createdAt).toDateString()}),Object(bt.jsxs)("td",{className:"",children:["Rs ",e.amount]}),Object(bt.jsxs)("td",{children:[Object(bt.jsx)("button",{className:"btn-sm-yellow ml-3",onClick:function(){return I(e),void _(!0)},children:Object(bt.jsx)(Tn.a,{className:"h-4"})}),"superAdmin"!==(null===b||void 0===b?void 0:b.role)&&Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)("button",{className:"btn-sm-green ml-3",onClick:function(){return I(e),void y(!0)},children:Object(bt.jsx)(_t.a,{className:"h-4"})}),Object(bt.jsx)("button",{className:"btn-sm-red ml-3",onClick:function(){return F(e._id)},children:Object(bt.jsx)(N.a,{className:"h-4"})})]})]})]},e._id)}))})]})})}),n.length>0&&Object(bt.jsx)("div",{className:"flex my-3 justify-center",children:Object(bt.jsx)("nav",{"aria-label":"Page navigation example",children:Object(bt.jsxs)("ul",{className:"pagination",children:[Object(bt.jsx)("li",{className:"page-item",onClick:function(){return 1!==a&&L(a-1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Array(s).fill().map((function(e,t){return Object(bt.jsx)("li",{className:"page-item ".concat(a===t+1&&"active"),onClick:function(){return L(t+1)},children:Object(bt.jsx)("button",{className:"page-link",href:".",children:t+1})},t)})),Object(bt.jsx)("li",{className:"page-item",onClick:function(){return a<s&&L(a+1)},children:Object(bt.jsx)("button",{className:"page-link",children:Object(bt.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})]})]})]})]}),Object(bt.jsx)(Cn,{isOpen:g,setIsOpen:y,expenseData:T}),Object(bt.jsx)(Un,{isOpen:C,setIsOpen:_,expenseDetails:T})]})},Ln=function(){var e=Object(r.useState)("transactions"),t=Object(O.a)(e,2),n=t[0],s=t[1];return Object(bt.jsxs)("div",{className:"bg-white mt-4",children:[Object(bt.jsxs)("div",{className:"flex justify-center ",children:[Object(bt.jsx)("button",{className:"".concat("transactions"===n?"text-green-500 border-green-500 font-bold":"text-gray-500 font-medium "," text-lg px-4 py-2 border-b-2 transition-all ease-in-out"),onClick:function(){return s("transactions")},children:"Transactions"}),Object(bt.jsx)("button",{className:"".concat("expenses"===n?"text-green-500 border-b-2 border-green-500 font-bold":"text-gray-500 font-medium"," text-lg px-4 py-2 border-b-2 transition-all ease-in-out"),onClick:function(){return s("expenses")},children:"Expenses"})]}),"transactions"===n?Object(bt.jsx)(Rn,{}):Object(bt.jsx)(Qn,{})]})},Fn=function(){return Object(bt.jsxs)("div",{className:"p-10",children:[Object(bt.jsx)(_n,{}),Object(bt.jsx)(Ln,{})]})},qn=JSON.parse(localStorage.getItem("user")),Mn="admin"===(null===qn||void 0===qn?void 0:qn.role)?[{path:"/",exact:!0,component:Pn},{path:"/transactions",component:Fn}]:"superAdmin"===(null===qn||void 0===qn?void 0:qn.role)?[{path:"/",exact:!0,component:Fn}]:[{path:"/",exact:!0,component:Pn}],Gn=function(){var e=Object(E.b)();Object(j.f)();return Object(bt.jsx)("div",{className:"w-screen h-screen bg-gray-100 flex justify-center items-center",children:Object(bt.jsxs)("div",{className:"w-full max-w-xs",children:[Object(bt.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault(),e((n={email:t.target[0].value,password:t.target[1].value},function(){var e=Object(o.a)(u.a.mark((function e(t){var r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(n);case 2:200===(r=e.sent).status&&(window.location.href="/",s=r.data.token,c=r.data.result,Be.b.success("LoggedIn Successfully"),t(Ye()),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(c)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[Object(bt.jsxs)("div",{className:"mb-4",children:[Object(bt.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"username",children:"Username"}),Object(bt.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})]}),Object(bt.jsxs)("div",{className:"mb-6",children:[Object(bt.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"password",children:"Password"}),Object(bt.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})]}),Object(bt.jsxs)("div",{className:"flex items-center justify-between",children:[Object(bt.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Sign In"}),Object(bt.jsx)("a",{className:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",href:".",children:"Forgot Password?"})]})]}),Object(bt.jsx)("p",{className:"text-center text-gray-500 text-xs",children:"\xa92022 Konfor. All rights reserved."})]})})},zn=function(){return Object(bt.jsx)(Gn,{})},Jn=function(){return Object(bt.jsx)(bt.Fragment,{children:Object(bt.jsx)("div",{className:"loading",children:Object(bt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"100px",height:"100px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(bt.jsx)("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"#0d933b",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:Object(bt.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})})})})})};var Vn=function(){var e=Object(E.c)((function(e){return e.isLoading})),t=Object(E.c)((function(e){return{onlineStatus:e.onlineStatus.onlineStatus}})).onlineStatus,n=Object(E.c)((function(e){return e.products.productsFilter})),s=Object(E.b)(),c=function(){var e=Object(o.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,"hello"),n=new AbortController,r=n.signal,navigator.onLine){e.next=5;break}return e.abrupt("return",navigator.onLine);case 5:return e.prev=5,e.next=8,fetch(Ie,{method:"GET",signal:r});case 8:return e.abrupt("return",!0);case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0),n.abort();case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}(),a=function(){s({type:Ee}),Be.b.success("Internet connection is active now");var e=JSON.parse(localStorage.getItem("orders"));if(e)for(var t=function(t){s(lt(e[t])).then((function(r){200===r.status&&t===e.length-1&&(localStorage.removeItem("orders"),s(ot()),s(Lt(n)),s(Ft()))}))},r=0;r<e.length;r++)t(r)},i=function(){t&&(s({type:ke}),Be.b.warning("You are currently in offline mode"))},l=function(){var e=Object(o.a)(u.a.mark((function e(){var n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:if(n=e.sent,!1!==t||!0!==n){e.next=9;break}console.log(t,"online"),r=new Event("online"),window.dispatchEvent(r),e.next=15;break;case 9:if(!0!==t||!1!==n){e.next=14;break}s=new Event("offline"),window.dispatchEvent(s),e.next=15;break;case 14:return e.abrupt("return",0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){window.addEventListener("offline",i),window.addEventListener("online",a);var e=setInterval(l,2e4);return function(){window.removeEventListener("offline",i),window.removeEventListener("online",a),clearInterval(e)}}),[t]),Object(bt.jsxs)(b.a,{children:[e&&Object(bt.jsx)(Jn,{}),Object(bt.jsxs)(j.c,{children:[Mn.map((function(e,t){return Object(bt.jsx)(j.a,{path:e.path,exact:e.exact,element:Object(bt.jsx)(e.component,{})},t)})),Object(bt.jsx)(j.a,{path:"/Login",element:Object(bt.jsx)(zn,{})})]})]})},Hn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),c(e),a(e)}))},Bn=(n(154),n(70));l.a.render(Object(bt.jsx)(s.a.StrictMode,{children:Object(bt.jsx)(E.a,{store:Ve,children:Object(bt.jsxs)(Bn.a,{loading:Object(bt.jsx)(Jn,{}),persistor:He,children:[Object(bt.jsx)(Be.a,{position:"top-right"}),Object(bt.jsx)(Vn,{})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./serviceworker.js").then((function(e){return console.log("Success: ",e.scope)})).catch((function(e){return console.log("Failure: ",e)}))})),Hn()},52:function(e,t,n){},77:function(e,t,n){}},[[155,1,2]]]);
//# sourceMappingURL=main.693ec8ed.chunk.js.map